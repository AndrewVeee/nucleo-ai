var Zr=Object.defineProperty;var Gr=(e,n,t)=>n in e?Zr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var A=(e,n,t)=>(Gr(e,typeof n!="symbol"?n+"":n,t),t),Kr=(e,n,t)=>{if(!n.has(e))throw TypeError("Cannot "+t)};var on=(e,n,t)=>{if(n.has(e))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(e):n.set(e,t)};var Ct=(e,n,t)=>(Kr(e,n,"access private method"),t);const Xr=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}};Xr();/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */var G=Object.freeze({}),k=Array.isArray;function x(e){return e==null}function h(e){return e!=null}function D(e){return e===!0}function Yr(e){return e===!1}function _t(e){return typeof e=="string"||typeof e=="number"||typeof e=="symbol"||typeof e=="boolean"}function N(e){return typeof e=="function"}function H(e){return e!==null&&typeof e=="object"}var jn=Object.prototype.toString;function K(e){return jn.call(e)==="[object Object]"}function Qr(e){return jn.call(e)==="[object RegExp]"}function js(e){var n=parseFloat(String(e));return n>=0&&Math.floor(n)===n&&isFinite(e)}function vn(e){return h(e)&&typeof e.then=="function"&&typeof e.catch=="function"}function Vr(e){return e==null?"":Array.isArray(e)||K(e)&&e.toString===jn?JSON.stringify(e,null,2):String(e)}function ut(e){var n=parseFloat(e);return isNaN(n)?e:n}function ne(e,n){for(var t=Object.create(null),i=e.split(","),s=0;s<i.length;s++)t[i[s]]=!0;return n?function(r){return t[r.toLowerCase()]}:function(r){return t[r]}}ne("slot,component",!0);var ea=ne("key,ref,slot,slot-scope,is");function Se(e,n){var t=e.length;if(t){if(n===e[t-1]){e.length=t-1;return}var i=e.indexOf(n);if(i>-1)return e.splice(i,1)}}var ta=Object.prototype.hasOwnProperty;function q(e,n){return ta.call(e,n)}function Fe(e){var n=Object.create(null);return function(i){var s=n[i];return s||(n[i]=e(i))}}var na=/-(\w)/g,Ne=Fe(function(e){return e.replace(na,function(n,t){return t?t.toUpperCase():""})}),ia=Fe(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),sa=/\B([A-Z])/g,gt=Fe(function(e){return e.replace(sa,"-$1").toLowerCase()});function ra(e,n){function t(i){var s=arguments.length;return s?s>1?e.apply(n,arguments):e.call(n,i):e.call(n)}return t._length=e.length,t}function aa(e,n){return e.bind(n)}var Fs=Function.prototype.bind?aa:ra;function _n(e,n){n=n||0;for(var t=e.length-n,i=new Array(t);t--;)i[t]=e[t+n];return i}function R(e,n){for(var t in n)e[t]=n[t];return e}function Hs(e){for(var n={},t=0;t<e.length;t++)e[t]&&R(n,e[t]);return n}function F(e,n,t){}var $t=function(e,n,t){return!1},Us=function(e){return e};function De(e,n){if(e===n)return!0;var t=H(e),i=H(n);if(t&&i)try{var s=Array.isArray(e),r=Array.isArray(n);if(s&&r)return e.length===n.length&&e.every(function(l,c){return De(l,n[c])});if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(!s&&!r){var a=Object.keys(e),o=Object.keys(n);return a.length===o.length&&a.every(function(l){return De(e[l],n[l])})}else return!1}catch{return!1}else return!t&&!i?String(e)===String(n):!1}function Bs(e,n){for(var t=0;t<e.length;t++)if(De(e[t],n))return t;return-1}function jt(e){var n=!1;return function(){n||(n=!0,e.apply(this,arguments))}}function oa(e,n){return e===n?e===0&&1/e!==1/n:e===e||n===n}var _i="data-server-rendered",nn=["component","directive","filter"],qs=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],ee={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:$t,isReservedAttr:$t,isUnknownElement:$t,getTagNamespace:F,parsePlatformTagName:Us,mustUseProp:$t,async:!0,_lifecycleHooks:qs},la=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function Ws(e){var n=(e+"").charCodeAt(0);return n===36||n===95}function xe(e,n,t,i){Object.defineProperty(e,n,{value:t,enumerable:!!i,writable:!0,configurable:!0})}var ca=new RegExp("[^".concat(la.source,".$_\\d]"));function ua(e){if(!ca.test(e)){var n=e.split(".");return function(t){for(var i=0;i<n.length;i++){if(!t)return;t=t[n[i]]}return t}}}var fa="__proto__"in{},Y=typeof window!="undefined",U=Y&&window.navigator.userAgent.toLowerCase(),Ke=U&&/msie|trident/.test(U),Xe=U&&U.indexOf("msie 9.0")>0,Fn=U&&U.indexOf("edge/")>0;U&&U.indexOf("android")>0;var pa=U&&/iphone|ipad|ipod|ios/.test(U);U&&/chrome\/\d+/.test(U);U&&/phantomjs/.test(U);var gi=U&&U.match(/firefox\/(\d+)/),gn={}.watch,Js=!1;if(Y)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){Js=!0}}),window.addEventListener("test-passive",null,yi)}catch{}var St,yt=function(){return St===void 0&&(!Y&&typeof global!="undefined"?St=global.process&&global.process.env.VUE_ENV==="server":St=!1),St},Ft=Y&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function Ze(e){return typeof e=="function"&&/native code/.test(e.toString())}var xt=typeof Symbol!="undefined"&&Ze(Symbol)&&typeof Reflect!="undefined"&&Ze(Reflect.ownKeys),ft;typeof Set!="undefined"&&Ze(Set)?ft=Set:ft=function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(n){return this.set[n]===!0},e.prototype.add=function(n){this.set[n]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var rt=null;function we(e){e===void 0&&(e=null),e||rt&&rt._scope.off(),rt=e,e&&e._scope.on()}var X=function(){function e(n,t,i,s,r,a,o,l){this.tag=n,this.data=t,this.children=i,this.text=s,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=l,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),Ae=function(e){e===void 0&&(e="");var n=new X;return n.text=e,n.isComment=!0,n};function qe(e){return new X(void 0,void 0,void 0,String(e))}function yn(e){var n=new X(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return n.ns=e.ns,n.isStatic=e.isStatic,n.key=e.key,n.isComment=e.isComment,n.fnContext=e.fnContext,n.fnOptions=e.fnOptions,n.fnScopeId=e.fnScopeId,n.asyncMeta=e.asyncMeta,n.isCloned=!0,n}var ha=0,Dt=[],da=function(){for(var e=0;e<Dt.length;e++){var n=Dt[e];n.subs=n.subs.filter(function(t){return t}),n._pending=!1}Dt.length=0},ke=function(){function e(){this._pending=!1,this.id=ha++,this.subs=[]}return e.prototype.addSub=function(n){this.subs.push(n)},e.prototype.removeSub=function(n){this.subs[this.subs.indexOf(n)]=null,this._pending||(this._pending=!0,Dt.push(this))},e.prototype.depend=function(n){e.target&&e.target.addDep(this)},e.prototype.notify=function(n){for(var t=this.subs.filter(function(a){return a}),i=0,s=t.length;i<s;i++){var r=t[i];r.update()}},e}();ke.target=null;var Mt=[];function Ye(e){Mt.push(e),ke.target=e}function Qe(){Mt.pop(),ke.target=Mt[Mt.length-1]}var Zs=Array.prototype,Ht=Object.create(Zs),ma=["push","pop","shift","unshift","splice","sort","reverse"];ma.forEach(function(e){var n=Zs[e];xe(Ht,e,function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var r=n.apply(this,i),a=this.__ob__,o;switch(e){case"push":case"unshift":o=i;break;case"splice":o=i.slice(2);break}return o&&a.observeArray(o),a.dep.notify(),r})});var xi=Object.getOwnPropertyNames(Ht),Gs={},Hn=!0;function Ce(e){Hn=e}var va={notify:F,depend:F,addSub:F,removeSub:F},bi=function(){function e(n,t,i){if(t===void 0&&(t=!1),i===void 0&&(i=!1),this.value=n,this.shallow=t,this.mock=i,this.dep=i?va:new ke,this.vmCount=0,xe(n,"__ob__",this),k(n)){if(!i)if(fa)n.__proto__=Ht;else for(var s=0,r=xi.length;s<r;s++){var a=xi[s];xe(n,a,Ht[a])}t||this.observeArray(n)}else for(var o=Object.keys(n),s=0;s<o.length;s++){var a=o[s];Me(n,a,Gs,void 0,t,i)}}return e.prototype.observeArray=function(n){for(var t=0,i=n.length;t<i;t++)he(n[t],!1,this.mock)},e}();function he(e,n,t){if(e&&q(e,"__ob__")&&e.__ob__ instanceof bi)return e.__ob__;if(Hn&&(t||!yt())&&(k(e)||K(e))&&Object.isExtensible(e)&&!e.__v_skip&&!ce(e)&&!(e instanceof X))return new bi(e,n,t)}function Me(e,n,t,i,s,r){var a=new ke,o=Object.getOwnPropertyDescriptor(e,n);if(!(o&&o.configurable===!1)){var l=o&&o.get,c=o&&o.set;(!l||c)&&(t===Gs||arguments.length===2)&&(t=e[n]);var f=!s&&he(t,!1,r);return Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var d=l?l.call(e):t;return ke.target&&(a.depend(),f&&(f.dep.depend(),k(d)&&Xs(d))),ce(d)&&!s?d.value:d},set:function(d){var _=l?l.call(e):t;if(!!oa(_,d)){if(c)c.call(e,d);else{if(l)return;if(!s&&ce(_)&&!ce(d)){_.value=d;return}else t=d}f=!s&&he(d,!1,r),a.notify()}}}),a}}function Un(e,n,t){if(!Bn(e)){var i=e.__ob__;return k(e)&&js(n)?(e.length=Math.max(e.length,n),e.splice(n,1,t),i&&!i.shallow&&i.mock&&he(t,!1,!0),t):n in e&&!(n in Object.prototype)?(e[n]=t,t):e._isVue||i&&i.vmCount?t:i?(Me(i.value,n,t,void 0,i.shallow,i.mock),i.dep.notify(),t):(e[n]=t,t)}}function Ks(e,n){if(k(e)&&js(n)){e.splice(n,1);return}var t=e.__ob__;e._isVue||t&&t.vmCount||Bn(e)||!q(e,n)||(delete e[n],t&&t.dep.notify())}function Xs(e){for(var n=void 0,t=0,i=e.length;t<i;t++)n=e[t],n&&n.__ob__&&n.__ob__.dep.depend(),k(n)&&Xs(n)}function Ys(e){return _a(e,!0),xe(e,"__v_isShallow",!0),e}function _a(e,n){Bn(e)||he(e,n,yt())}function Bn(e){return!!(e&&e.__v_isReadonly)}function ce(e){return!!(e&&e.__v_isRef===!0)}function xn(e,n,t){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var i=n[t];if(ce(i))return i.value;var s=i&&i.__ob__;return s&&s.dep.depend(),i},set:function(i){var s=n[t];ce(s)&&!ce(i)?s.value=i:n[t]=i}})}var J,ga=function(){function e(n){n===void 0&&(n=!1),this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=J,!n&&J&&(this.index=(J.scopes||(J.scopes=[])).push(this)-1)}return e.prototype.run=function(n){if(this.active){var t=J;try{return J=this,n()}finally{J=t}}},e.prototype.on=function(){J=this},e.prototype.off=function(){J=this.parent},e.prototype.stop=function(n){if(this.active){var t=void 0,i=void 0;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].teardown();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!n){var s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this.active=!1}},e}();function ya(e,n){n===void 0&&(n=J),n&&n.active&&n.effects.push(e)}function xa(e){var n=e._provided,t=e.$parent&&e.$parent._provided;return t===n?e._provided=Object.create(t):n}var wi=Fe(function(e){var n=e.charAt(0)==="&";e=n?e.slice(1):e;var t=e.charAt(0)==="~";e=t?e.slice(1):e;var i=e.charAt(0)==="!";return e=i?e.slice(1):e,{name:e,once:t,capture:i,passive:n}});function bn(e,n){function t(){var i=t.fns;if(k(i))for(var s=i.slice(),r=0;r<s.length;r++)$e(s[r],null,arguments,n,"v-on handler");else return $e(i,null,arguments,n,"v-on handler")}return t.fns=e,t}function Qs(e,n,t,i,s,r){var a,o,l,c;for(a in e)o=e[a],l=n[a],c=wi(a),x(o)||(x(l)?(x(o.fns)&&(o=e[a]=bn(o,r)),D(c.once)&&(o=e[a]=s(c.name,o,c.capture)),t(c.name,o,c.capture,c.passive,c.params)):o!==l&&(l.fns=o,e[a]=l));for(a in n)x(e[a])&&(c=wi(a),i(c.name,n[a],c.capture))}function _e(e,n,t){e instanceof X&&(e=e.data.hook||(e.data.hook={}));var i,s=e[n];function r(){t.apply(this,arguments),Se(i.fns,r)}x(s)?i=bn([r]):h(s.fns)&&D(s.merged)?(i=s,i.fns.push(r)):i=bn([s,r]),i.merged=!0,e[n]=i}function ba(e,n,t){var i=n.options.props;if(!x(i)){var s={},r=e.attrs,a=e.props;if(h(r)||h(a))for(var o in i){var l=gt(o);ki(s,a,o,l,!0)||ki(s,r,o,l,!1)}return s}}function ki(e,n,t,i,s){if(h(n)){if(q(n,t))return e[t]=n[t],s||delete n[t],!0;if(q(n,i))return e[t]=n[i],s||delete n[i],!0}return!1}function wa(e){for(var n=0;n<e.length;n++)if(k(e[n]))return Array.prototype.concat.apply([],e);return e}function qn(e){return _t(e)?[qe(e)]:k(e)?Vs(e):void 0}function et(e){return h(e)&&h(e.text)&&Yr(e.isComment)}function Vs(e,n){var t=[],i,s,r,a;for(i=0;i<e.length;i++)s=e[i],!(x(s)||typeof s=="boolean")&&(r=t.length-1,a=t[r],k(s)?s.length>0&&(s=Vs(s,"".concat(n||"","_").concat(i)),et(s[0])&&et(a)&&(t[r]=qe(a.text+s[0].text),s.shift()),t.push.apply(t,s)):_t(s)?et(a)?t[r]=qe(a.text+s):s!==""&&t.push(qe(s)):et(s)&&et(a)?t[r]=qe(a.text+s.text):(D(e._isVList)&&h(s.tag)&&x(s.key)&&h(n)&&(s.key="__vlist".concat(n,"_").concat(i,"__")),t.push(s)));return t}function ka(e,n){var t=null,i,s,r,a;if(k(e)||typeof e=="string")for(t=new Array(e.length),i=0,s=e.length;i<s;i++)t[i]=n(e[i],i);else if(typeof e=="number")for(t=new Array(e),i=0;i<e;i++)t[i]=n(i+1,i);else if(H(e))if(xt&&e[Symbol.iterator]){t=[];for(var o=e[Symbol.iterator](),l=o.next();!l.done;)t.push(n(l.value,t.length)),l=o.next()}else for(r=Object.keys(e),t=new Array(r.length),i=0,s=r.length;i<s;i++)a=r[i],t[i]=n(e[a],a,i);return h(t)||(t=[]),t._isVList=!0,t}function Ca(e,n,t,i){var s=this.$scopedSlots[e],r;s?(t=t||{},i&&(t=R(R({},i),t)),r=s(t)||(N(n)?n():n)):r=this.$slots[e]||(N(n)?n():n);var a=t&&t.slot;return a?this.$createElement("template",{slot:a},r):r}function $a(e){return Zt(this.$options,"filters",e)||Us}function Ci(e,n){return k(e)?e.indexOf(n)===-1:e!==n}function Sa(e,n,t,i,s){var r=ee.keyCodes[n]||t;return s&&i&&!ee.keyCodes[n]?Ci(s,i):r?Ci(r,e):i?gt(i)!==n:e===void 0}function Ta(e,n,t,i,s){if(t&&H(t)){k(t)&&(t=Hs(t));var r=void 0,a=function(l){if(l==="class"||l==="style"||ea(l))r=e;else{var c=e.attrs&&e.attrs.type;r=i||ee.mustUseProp(n,c,l)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var f=Ne(l),v=gt(l);if(!(f in r)&&!(v in r)&&(r[l]=t[l],s)){var d=e.on||(e.on={});d["update:".concat(l)]=function(_){t[l]=_}}};for(var o in t)a(o)}return e}function Oa(e,n){var t=this._staticTrees||(this._staticTrees=[]),i=t[e];return i&&!n||(i=t[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),er(i,"__static__".concat(e),!1)),i}function Ea(e,n,t){return er(e,"__once__".concat(n).concat(t?"_".concat(t):""),!0),e}function er(e,n,t){if(k(e))for(var i=0;i<e.length;i++)e[i]&&typeof e[i]!="string"&&$i(e[i],"".concat(n,"_").concat(i),t);else $i(e,n,t)}function $i(e,n,t){e.isStatic=!0,e.key=n,e.isOnce=t}function Aa(e,n){if(n&&K(n)){var t=e.on=e.on?R({},e.on):{};for(var i in n){var s=t[i],r=n[i];t[i]=s?[].concat(s,r):r}}return e}function tr(e,n,t,i){n=n||{$stable:!t};for(var s=0;s<e.length;s++){var r=e[s];k(r)?tr(r,n,t):r&&(r.proxy&&(r.fn.proxy=!0),n[r.key]=r.fn)}return i&&(n.$key=i),n}function Pa(e,n){for(var t=0;t<n.length;t+=2){var i=n[t];typeof i=="string"&&i&&(e[n[t]]=n[t+1])}return e}function Ia(e,n){return typeof e=="string"?n+e:e}function nr(e){e._o=Ea,e._n=ut,e._s=Vr,e._l=ka,e._t=Ca,e._q=De,e._i=Bs,e._m=Oa,e._f=$a,e._k=Sa,e._b=Ta,e._v=qe,e._e=Ae,e._u=tr,e._g=Aa,e._d=Pa,e._p=Ia}function Wn(e,n){if(!e||!e.length)return{};for(var t={},i=0,s=e.length;i<s;i++){var r=e[i],a=r.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,(r.context===n||r.fnContext===n)&&a&&a.slot!=null){var o=a.slot,l=t[o]||(t[o]=[]);r.tag==="template"?l.push.apply(l,r.children||[]):l.push(r)}else(t.default||(t.default=[])).push(r)}for(var c in t)t[c].every(Ra)&&delete t[c];return t}function Ra(e){return e.isComment&&!e.asyncFactory||e.text===" "}function pt(e){return e.isComment&&e.asyncFactory}function at(e,n,t,i){var s,r=Object.keys(t).length>0,a=n?!!n.$stable:!r,o=n&&n.$key;if(!n)s={};else{if(n._normalized)return n._normalized;if(a&&i&&i!==G&&o===i.$key&&!r&&!i.$hasNormal)return i;s={};for(var l in n)n[l]&&l[0]!=="$"&&(s[l]=Na(e,t,l,n[l]))}for(var c in t)c in s||(s[c]=Da(t,c));return n&&Object.isExtensible(n)&&(n._normalized=s),xe(s,"$stable",a),xe(s,"$key",o),xe(s,"$hasNormal",r),s}function Na(e,n,t,i){var s=function(){var r=rt;we(e);var a=arguments.length?i.apply(null,arguments):i({});a=a&&typeof a=="object"&&!k(a)?[a]:qn(a);var o=a&&a[0];return we(r),a&&(!o||a.length===1&&o.isComment&&!pt(o))?void 0:a};return i.proxy&&Object.defineProperty(n,t,{get:s,enumerable:!0,configurable:!0}),s}function Da(e,n){return function(){return e[n]}}function Ma(e){var n=e.$options,t=n.setup;if(t){var i=e._setupContext=La(e);we(e),Ye();var s=$e(t,null,[e._props||Ys({}),i],e,"setup");if(Qe(),we(),N(s))n.render=s;else if(H(s))if(e._setupState=s,s.__sfc){var a=e._setupProxy={};for(var r in s)r!=="__sfc"&&xn(a,s,r)}else for(var r in s)Ws(r)||xn(e,s,r)}}function La(e){return{get attrs(){if(!e._attrsProxy){var n=e._attrsProxy={};xe(n,"_v_attr_proxy",!0),Ut(n,e.$attrs,G,e,"$attrs")}return e._attrsProxy},get listeners(){if(!e._listenersProxy){var n=e._listenersProxy={};Ut(n,e.$listeners,G,e,"$listeners")}return e._listenersProxy},get slots(){return ja(e)},emit:Fs(e.$emit,e),expose:function(n){n&&Object.keys(n).forEach(function(t){return xn(e,n,t)})}}}function Ut(e,n,t,i,s){var r=!1;for(var a in n)a in e?n[a]!==t[a]&&(r=!0):(r=!0,za(e,a,i,s));for(var a in e)a in n||(r=!0,delete e[a]);return r}function za(e,n,t,i){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){return t[i][n]}})}function ja(e){return e._slotsProxy||ir(e._slotsProxy={},e.$scopedSlots),e._slotsProxy}function ir(e,n){for(var t in n)e[t]=n[t];for(var t in e)t in n||delete e[t]}function Fa(e){e._vnode=null,e._staticTrees=null;var n=e.$options,t=e.$vnode=n._parentVnode,i=t&&t.context;e.$slots=Wn(n._renderChildren,i),e.$scopedSlots=t?at(e.$parent,t.data.scopedSlots,e.$slots):G,e._c=function(r,a,o,l){return Bt(e,r,a,o,l,!1)},e.$createElement=function(r,a,o,l){return Bt(e,r,a,o,l,!0)};var s=t&&t.data;Me(e,"$attrs",s&&s.attrs||G,null,!0),Me(e,"$listeners",n._parentListeners||G,null,!0)}var wn=null;function Ha(e){nr(e.prototype),e.prototype.$nextTick=function(n){return Jn(n,this)},e.prototype._render=function(){var n=this,t=n.$options,i=t.render,s=t._parentVnode;s&&n._isMounted&&(n.$scopedSlots=at(n.$parent,s.data.scopedSlots,n.$slots,n.$scopedSlots),n._slotsProxy&&ir(n._slotsProxy,n.$scopedSlots)),n.$vnode=s;var r;try{we(n),wn=n,r=i.call(n._renderProxy,n.$createElement)}catch(a){Le(a,n,"render"),r=n._vnode}finally{wn=null,we()}return k(r)&&r.length===1&&(r=r[0]),r instanceof X||(r=Ae()),r.parent=s,r}}function ln(e,n){return(e.__esModule||xt&&e[Symbol.toStringTag]==="Module")&&(e=e.default),H(e)?n.extend(e):e}function Ua(e,n,t,i,s){var r=Ae();return r.asyncFactory=e,r.asyncMeta={data:n,context:t,children:i,tag:s},r}function Ba(e,n){if(D(e.error)&&h(e.errorComp))return e.errorComp;if(h(e.resolved))return e.resolved;var t=wn;if(t&&h(e.owners)&&e.owners.indexOf(t)===-1&&e.owners.push(t),D(e.loading)&&h(e.loadingComp))return e.loadingComp;if(t&&!h(e.owners)){var i=e.owners=[t],s=!0,r=null,a=null;t.$on("hook:destroyed",function(){return Se(i,t)});var o=function(v){for(var d=0,_=i.length;d<_;d++)i[d].$forceUpdate();v&&(i.length=0,r!==null&&(clearTimeout(r),r=null),a!==null&&(clearTimeout(a),a=null))},l=jt(function(v){e.resolved=ln(v,n),s?i.length=0:o(!0)}),c=jt(function(v){h(e.errorComp)&&(e.error=!0,o(!0))}),f=e(l,c);return H(f)&&(vn(f)?x(e.resolved)&&f.then(l,c):vn(f.component)&&(f.component.then(l,c),h(f.error)&&(e.errorComp=ln(f.error,n)),h(f.loading)&&(e.loadingComp=ln(f.loading,n),f.delay===0?e.loading=!0:r=setTimeout(function(){r=null,x(e.resolved)&&x(e.error)&&(e.loading=!0,o(!1))},f.delay||200)),h(f.timeout)&&(a=setTimeout(function(){a=null,x(e.resolved)&&c(null)},f.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}function sr(e){if(k(e))for(var n=0;n<e.length;n++){var t=e[n];if(h(t)&&(h(t.componentOptions)||pt(t)))return t}}var qa=1,rr=2;function Bt(e,n,t,i,s,r){return(k(t)||_t(t))&&(s=i,i=t,t=void 0),D(r)&&(s=rr),Wa(e,n,t,i,s)}function Wa(e,n,t,i,s){if(h(t)&&h(t.__ob__)||(h(t)&&h(t.is)&&(n=t.is),!n))return Ae();k(i)&&N(i[0])&&(t=t||{},t.scopedSlots={default:i[0]},i.length=0),s===rr?i=qn(i):s===qa&&(i=wa(i));var r,a;if(typeof n=="string"){var o=void 0;a=e.$vnode&&e.$vnode.ns||ee.getTagNamespace(n),ee.isReservedTag(n)?r=new X(ee.parsePlatformTagName(n),t,i,void 0,void 0,e):(!t||!t.pre)&&h(o=Zt(e.$options,"components",n))?r=Ri(o,t,e,i,n):r=new X(n,t,i,void 0,void 0,e)}else r=Ri(n,t,e,i);return k(r)?r:h(r)?(h(a)&&ar(r,a),h(t)&&Ja(t),r):Ae()}function ar(e,n,t){if(e.ns=n,e.tag==="foreignObject"&&(n=void 0,t=!0),h(e.children))for(var i=0,s=e.children.length;i<s;i++){var r=e.children[i];h(r.tag)&&(x(r.ns)||D(t)&&r.tag!=="svg")&&ar(r,n,t)}}function Ja(e){H(e.style)&&qt(e.style),H(e.class)&&qt(e.class)}function Le(e,n,t){Ye();try{if(n)for(var i=n;i=i.$parent;){var s=i.$options.errorCaptured;if(s)for(var r=0;r<s.length;r++)try{var a=s[r].call(i,e,n,t)===!1;if(a)return}catch(o){Si(o,i,"errorCaptured hook")}}Si(e,n,t)}finally{Qe()}}function $e(e,n,t,i,s){var r;try{r=t?e.apply(n,t):e.call(n),r&&!r._isVue&&vn(r)&&!r._handled&&(r.catch(function(a){return Le(a,i,s+" (Promise/async)")}),r._handled=!0)}catch(a){Le(a,i,s)}return r}function Si(e,n,t){if(ee.errorHandler)try{return ee.errorHandler.call(null,e,n,t)}catch(i){i!==e&&Ti(i)}Ti(e)}function Ti(e,n,t){if(Y&&typeof console!="undefined")console.error(e);else throw e}var kn=!1,Cn=[],$n=!1;function Tt(){$n=!1;var e=Cn.slice(0);Cn.length=0;for(var n=0;n<e.length;n++)e[n]()}var st;if(typeof Promise!="undefined"&&Ze(Promise)){var Za=Promise.resolve();st=function(){Za.then(Tt),pa&&setTimeout(F)},kn=!0}else if(!Ke&&typeof MutationObserver!="undefined"&&(Ze(MutationObserver)||MutationObserver.toString()==="[object MutationObserverConstructor]")){var Ot=1,Ga=new MutationObserver(Tt),Oi=document.createTextNode(String(Ot));Ga.observe(Oi,{characterData:!0}),st=function(){Ot=(Ot+1)%2,Oi.data=String(Ot)},kn=!0}else typeof setImmediate!="undefined"&&Ze(setImmediate)?st=function(){setImmediate(Tt)}:st=function(){setTimeout(Tt,0)};function Jn(e,n){var t;if(Cn.push(function(){if(e)try{e.call(n)}catch(i){Le(i,n,"nextTick")}else t&&t(n)}),$n||($n=!0,st()),!e&&typeof Promise!="undefined")return new Promise(function(i){t=i})}var Ka="2.7.14",Ei=new ft;function qt(e){return Lt(e,Ei),Ei.clear(),e}function Lt(e,n){var t,i,s=k(e);if(!(!s&&!H(e)||e.__v_skip||Object.isFrozen(e)||e instanceof X)){if(e.__ob__){var r=e.__ob__.dep.id;if(n.has(r))return;n.add(r)}if(s)for(t=e.length;t--;)Lt(e[t],n);else if(ce(e))Lt(e.value,n);else for(i=Object.keys(e),t=i.length;t--;)Lt(e[i[t]],n)}}var Xa=0,Zn=function(){function e(n,t,i,s,r){ya(this,J&&!J._vm?J:n?n._scope:void 0),(this.vm=n)&&r&&(n._watcher=this),s?(this.deep=!!s.deep,this.user=!!s.user,this.lazy=!!s.lazy,this.sync=!!s.sync,this.before=s.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=i,this.id=++Xa,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ft,this.newDepIds=new ft,this.expression="",N(t)?this.getter=t:(this.getter=ua(t),this.getter||(this.getter=F)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){Ye(this);var n,t=this.vm;try{n=this.getter.call(t,t)}catch(i){if(this.user)Le(i,t,'getter for watcher "'.concat(this.expression,'"'));else throw i}finally{this.deep&&qt(n),Qe(),this.cleanupDeps()}return n},e.prototype.addDep=function(n){var t=n.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(n),this.depIds.has(t)||n.addSub(this))},e.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var t=this.deps[n];this.newDepIds.has(t.id)||t.removeSub(this)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():po(this)},e.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||H(n)||this.deep){var t=this.value;if(this.value=n,this.user){var i='callback for watcher "'.concat(this.expression,'"');$e(this.cb,this.vm,[n,t],this.vm,i)}else this.cb.call(this.vm,n,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&Se(this.vm._scope.effects,this),this.active){for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function Ya(e){e._events=Object.create(null),e._hasHookEvent=!1;var n=e.$options._parentListeners;n&&or(e,n)}var ht;function Qa(e,n){ht.$on(e,n)}function Va(e,n){ht.$off(e,n)}function eo(e,n){var t=ht;return function i(){var s=n.apply(null,arguments);s!==null&&t.$off(e,i)}}function or(e,n,t){ht=e,Qs(n,t||{},Qa,Va,eo,e),ht=void 0}function to(e){var n=/^hook:/;e.prototype.$on=function(t,i){var s=this;if(k(t))for(var r=0,a=t.length;r<a;r++)s.$on(t[r],i);else(s._events[t]||(s._events[t]=[])).push(i),n.test(t)&&(s._hasHookEvent=!0);return s},e.prototype.$once=function(t,i){var s=this;function r(){s.$off(t,r),i.apply(s,arguments)}return r.fn=i,s.$on(t,r),s},e.prototype.$off=function(t,i){var s=this;if(!arguments.length)return s._events=Object.create(null),s;if(k(t)){for(var r=0,a=t.length;r<a;r++)s.$off(t[r],i);return s}var o=s._events[t];if(!o)return s;if(!i)return s._events[t]=null,s;for(var l,c=o.length;c--;)if(l=o[c],l===i||l.fn===i){o.splice(c,1);break}return s},e.prototype.$emit=function(t){var i=this,s=i._events[t];if(s){s=s.length>1?_n(s):s;for(var r=_n(arguments,1),a='event handler for "'.concat(t,'"'),o=0,l=s.length;o<l;o++)$e(s[o],i,r,i,a)}return i}}var Pe=null;function lr(e){var n=Pe;return Pe=e,function(){Pe=n}}function no(e){var n=e.$options,t=n.parent;if(t&&!n.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(e)}e.$parent=t,e.$root=t?t.$root:e,e.$children=[],e.$refs={},e._provided=t?t._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function io(e){e.prototype._update=function(n,t){var i=this,s=i.$el,r=i._vnode,a=lr(i);i._vnode=n,r?i.$el=i.__patch__(r,n):i.$el=i.__patch__(i.$el,n,t,!1),a(),s&&(s.__vue__=null),i.$el&&(i.$el.__vue__=i);for(var o=i;o&&o.$vnode&&o.$parent&&o.$vnode===o.$parent._vnode;)o.$parent.$el=o.$el,o=o.$parent},e.prototype.$forceUpdate=function(){var n=this;n._watcher&&n._watcher.update()},e.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){te(n,"beforeDestroy"),n._isBeingDestroyed=!0;var t=n.$parent;t&&!t._isBeingDestroyed&&!n.$options.abstract&&Se(t.$children,n),n._scope.stop(),n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),te(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}function so(e,n,t){e.$el=n,e.$options.render||(e.$options.render=Ae),te(e,"beforeMount");var i;i=function(){e._update(e._render(),t)};var s={before:function(){e._isMounted&&!e._isDestroyed&&te(e,"beforeUpdate")}};new Zn(e,i,F,s,!0),t=!1;var r=e._preWatchers;if(r)for(var a=0;a<r.length;a++)r[a].run();return e.$vnode==null&&(e._isMounted=!0,te(e,"mounted")),e}function ro(e,n,t,i,s){var r=i.data.scopedSlots,a=e.$scopedSlots,o=!!(r&&!r.$stable||a!==G&&!a.$stable||r&&e.$scopedSlots.$key!==r.$key||!r&&e.$scopedSlots.$key),l=!!(s||e.$options._renderChildren||o),c=e.$vnode;e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=s;var f=i.data.attrs||G;e._attrsProxy&&Ut(e._attrsProxy,f,c.data&&c.data.attrs||G,e,"$attrs")&&(l=!0),e.$attrs=f,t=t||G;var v=e.$options._parentListeners;if(e._listenersProxy&&Ut(e._listenersProxy,t,v||G,e,"$listeners"),e.$listeners=e.$options._parentListeners=t,or(e,t,v),n&&e.$options.props){Ce(!1);for(var d=e._props,_=e.$options._propKeys||[],S=0;S<_.length;S++){var I=_[S],j=e.$options.props;d[I]=Vn(I,j,n,e)}Ce(!0),e.$options.propsData=n}l&&(e.$slots=Wn(s,i.context),e.$forceUpdate())}function cr(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function Gn(e,n){if(n){if(e._directInactive=!1,cr(e))return}else if(e._directInactive)return;if(e._inactive||e._inactive===null){e._inactive=!1;for(var t=0;t<e.$children.length;t++)Gn(e.$children[t]);te(e,"activated")}}function ur(e,n){if(!(n&&(e._directInactive=!0,cr(e)))&&!e._inactive){e._inactive=!0;for(var t=0;t<e.$children.length;t++)ur(e.$children[t]);te(e,"deactivated")}}function te(e,n,t,i){i===void 0&&(i=!0),Ye();var s=rt;i&&we(e);var r=e.$options[n],a="".concat(n," hook");if(r)for(var o=0,l=r.length;o<l;o++)$e(r[o],e,t||null,e,a);e._hasHookEvent&&e.$emit("hook:"+n),i&&we(s),Qe()}var fe=[],Kn=[],Wt={},Sn=!1,Xn=!1,We=0;function ao(){We=fe.length=Kn.length=0,Wt={},Sn=Xn=!1}var fr=0,Tn=Date.now;if(Y&&!Ke){var cn=window.performance;cn&&typeof cn.now=="function"&&Tn()>document.createEvent("Event").timeStamp&&(Tn=function(){return cn.now()})}var oo=function(e,n){if(e.post){if(!n.post)return 1}else if(n.post)return-1;return e.id-n.id};function lo(){fr=Tn(),Xn=!0;var e,n;for(fe.sort(oo),We=0;We<fe.length;We++)e=fe[We],e.before&&e.before(),n=e.id,Wt[n]=null,e.run();var t=Kn.slice(),i=fe.slice();ao(),fo(t),co(i),da(),Ft&&ee.devtools&&Ft.emit("flush")}function co(e){for(var n=e.length;n--;){var t=e[n],i=t.vm;i&&i._watcher===t&&i._isMounted&&!i._isDestroyed&&te(i,"updated")}}function uo(e){e._inactive=!1,Kn.push(e)}function fo(e){for(var n=0;n<e.length;n++)e[n]._inactive=!0,Gn(e[n],!0)}function po(e){var n=e.id;if(Wt[n]==null&&!(e===ke.target&&e.noRecurse)){if(Wt[n]=!0,!Xn)fe.push(e);else{for(var t=fe.length-1;t>We&&fe[t].id>e.id;)t--;fe.splice(t+1,0,e)}Sn||(Sn=!0,Jn(lo))}}function ho(e){var n=e.$options.provide;if(n){var t=N(n)?n.call(e):n;if(!H(t))return;for(var i=xa(e),s=xt?Reflect.ownKeys(t):Object.keys(t),r=0;r<s.length;r++){var a=s[r];Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(t,a))}}}function mo(e){var n=pr(e.$options.inject,e);n&&(Ce(!1),Object.keys(n).forEach(function(t){Me(e,t,n[t])}),Ce(!0))}function pr(e,n){if(e){for(var t=Object.create(null),i=xt?Reflect.ownKeys(e):Object.keys(e),s=0;s<i.length;s++){var r=i[s];if(r!=="__ob__"){var a=e[r].from;if(a in n._provided)t[r]=n._provided[a];else if("default"in e[r]){var o=e[r].default;t[r]=N(o)?o.call(n):o}}}return t}}function Yn(e,n,t,i,s){var r=this,a=s.options,o;q(i,"_uid")?(o=Object.create(i),o._original=i):(o=i,i=i._original);var l=D(a._compiled),c=!l;this.data=e,this.props=n,this.children=t,this.parent=i,this.listeners=e.on||G,this.injections=pr(a.inject,i),this.slots=function(){return r.$slots||at(i,e.scopedSlots,r.$slots=Wn(t,i)),r.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return at(i,e.scopedSlots,this.slots())}}),l&&(this.$options=a,this.$slots=this.slots(),this.$scopedSlots=at(i,e.scopedSlots,this.$slots)),a._scopeId?this._c=function(f,v,d,_){var S=Bt(o,f,v,d,_,c);return S&&!k(S)&&(S.fnScopeId=a._scopeId,S.fnContext=i),S}:this._c=function(f,v,d,_){return Bt(o,f,v,d,_,c)}}nr(Yn.prototype);function vo(e,n,t,i,s){var r=e.options,a={},o=r.props;if(h(o))for(var l in o)a[l]=Vn(l,o,n||G);else h(t.attrs)&&Pi(a,t.attrs),h(t.props)&&Pi(a,t.props);var c=new Yn(t,a,s,i,e),f=r.render.call(null,c._c,c);if(f instanceof X)return Ai(f,t,c.parent,r);if(k(f)){for(var v=qn(f)||[],d=new Array(v.length),_=0;_<v.length;_++)d[_]=Ai(v[_],t,c.parent,r);return d}}function Ai(e,n,t,i,s){var r=yn(e);return r.fnContext=t,r.fnOptions=i,n.slot&&((r.data||(r.data={})).slot=n.slot),r}function Pi(e,n){for(var t in n)e[Ne(t)]=n[t]}function Jt(e){return e.name||e.__name||e._componentTag}var Qn={init:function(e,n){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var t=e;Qn.prepatch(t,t)}else{var i=e.componentInstance=_o(e,Pe);i.$mount(n?e.elm:void 0,n)}},prepatch:function(e,n){var t=n.componentOptions,i=n.componentInstance=e.componentInstance;ro(i,t.propsData,t.listeners,n,t.children)},insert:function(e){var n=e.context,t=e.componentInstance;t._isMounted||(t._isMounted=!0,te(t,"mounted")),e.data.keepAlive&&(n._isMounted?uo(t):Gn(t,!0))},destroy:function(e){var n=e.componentInstance;n._isDestroyed||(e.data.keepAlive?ur(n,!0):n.$destroy())}},Ii=Object.keys(Qn);function Ri(e,n,t,i,s){if(!x(e)){var r=t.$options._base;if(H(e)&&(e=r.extend(e)),typeof e=="function"){var a;if(x(e.cid)&&(a=e,e=Ba(a,r),e===void 0))return Ua(a,n,t,i,s);n=n||{},ti(e),h(n.model)&&xo(e.options,n);var o=ba(n,e);if(D(e.options.functional))return vo(e,o,n,t,i);var l=n.on;if(n.on=n.nativeOn,D(e.options.abstract)){var c=n.slot;n={},c&&(n.slot=c)}go(n);var f=Jt(e.options)||s,v=new X("vue-component-".concat(e.cid).concat(f?"-".concat(f):""),n,void 0,void 0,void 0,t,{Ctor:e,propsData:o,listeners:l,tag:s,children:i},a);return v}}}function _o(e,n){var t={_isComponent:!0,_parentVnode:e,parent:n},i=e.data.inlineTemplate;return h(i)&&(t.render=i.render,t.staticRenderFns=i.staticRenderFns),new e.componentOptions.Ctor(t)}function go(e){for(var n=e.hook||(e.hook={}),t=0;t<Ii.length;t++){var i=Ii[t],s=n[i],r=Qn[i];s!==r&&!(s&&s._merged)&&(n[i]=s?yo(r,s):r)}}function yo(e,n){var t=function(i,s){e(i,s),n(i,s)};return t._merged=!0,t}function xo(e,n){var t=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(n.attrs||(n.attrs={}))[t]=n.model.value;var s=n.on||(n.on={}),r=s[i],a=n.model.callback;h(r)?(k(r)?r.indexOf(a)===-1:r!==a)&&(s[i]=[a].concat(r)):s[i]=a}var bo=F,ae=ee.optionMergeStrategies;function dt(e,n,t){if(t===void 0&&(t=!0),!n)return e;for(var i,s,r,a=xt?Reflect.ownKeys(n):Object.keys(n),o=0;o<a.length;o++)i=a[o],i!=="__ob__"&&(s=e[i],r=n[i],!t||!q(e,i)?Un(e,i,r):s!==r&&K(s)&&K(r)&&dt(s,r));return e}function Ni(e,n,t){return t?function(){var s=N(n)?n.call(t,t):n,r=N(e)?e.call(t,t):e;return s?dt(s,r):r}:n?e?function(){return dt(N(n)?n.call(this,this):n,N(e)?e.call(this,this):e)}:n:e}ae.data=function(e,n,t){return t?Ni(e,n,t):n&&typeof n!="function"?e:Ni(e,n)};function wo(e,n){var t=n?e?e.concat(n):k(n)?n:[n]:e;return t&&ko(t)}function ko(e){for(var n=[],t=0;t<e.length;t++)n.indexOf(e[t])===-1&&n.push(e[t]);return n}qs.forEach(function(e){ae[e]=wo});function Co(e,n,t,i){var s=Object.create(e||null);return n?R(s,n):s}nn.forEach(function(e){ae[e+"s"]=Co});ae.watch=function(e,n,t,i){if(e===gn&&(e=void 0),n===gn&&(n=void 0),!n)return Object.create(e||null);if(!e)return n;var s={};R(s,e);for(var r in n){var a=s[r],o=n[r];a&&!k(a)&&(a=[a]),s[r]=a?a.concat(o):k(o)?o:[o]}return s};ae.props=ae.methods=ae.inject=ae.computed=function(e,n,t,i){if(!e)return n;var s=Object.create(null);return R(s,e),n&&R(s,n),s};ae.provide=function(e,n){return e?function(){var t=Object.create(null);return dt(t,N(e)?e.call(this):e),n&&dt(t,N(n)?n.call(this):n,!1),t}:n};var $o=function(e,n){return n===void 0?e:n};function So(e,n){var t=e.props;if(!!t){var i={},s,r,a;if(k(t))for(s=t.length;s--;)r=t[s],typeof r=="string"&&(a=Ne(r),i[a]={type:null});else if(K(t))for(var o in t)r=t[o],a=Ne(o),i[a]=K(r)?r:{type:r};e.props=i}}function To(e,n){var t=e.inject;if(!!t){var i=e.inject={};if(k(t))for(var s=0;s<t.length;s++)i[t[s]]={from:t[s]};else if(K(t))for(var r in t){var a=t[r];i[r]=K(a)?R({from:r},a):{from:a}}}}function Oo(e){var n=e.directives;if(n)for(var t in n){var i=n[t];N(i)&&(n[t]={bind:i,update:i})}}function ze(e,n,t){if(N(n)&&(n=n.options),So(n),To(n),Oo(n),!n._base&&(n.extends&&(e=ze(e,n.extends,t)),n.mixins))for(var i=0,s=n.mixins.length;i<s;i++)e=ze(e,n.mixins[i],t);var r={},a;for(a in e)o(a);for(a in n)q(e,a)||o(a);function o(l){var c=ae[l]||$o;r[l]=c(e[l],n[l],t,l)}return r}function Zt(e,n,t,i){if(typeof t=="string"){var s=e[n];if(q(s,t))return s[t];var r=Ne(t);if(q(s,r))return s[r];var a=ia(r);if(q(s,a))return s[a];var o=s[t]||s[r]||s[a];return o}}function Vn(e,n,t,i){var s=n[e],r=!q(t,e),a=t[e],o=Mi(Boolean,s.type);if(o>-1){if(r&&!q(s,"default"))a=!1;else if(a===""||a===gt(e)){var l=Mi(String,s.type);(l<0||o<l)&&(a=!0)}}if(a===void 0){a=Eo(i,s,e);var c=Hn;Ce(!0),he(a),Ce(c)}return a}function Eo(e,n,t){if(!!q(n,"default")){var i=n.default;return e&&e.$options.propsData&&e.$options.propsData[t]===void 0&&e._props[t]!==void 0?e._props[t]:N(i)&&On(n.type)!=="Function"?i.call(e):i}}var Ao=/^\s*function (\w+)/;function On(e){var n=e&&e.toString().match(Ao);return n?n[1]:""}function Di(e,n){return On(e)===On(n)}function Mi(e,n){if(!k(n))return Di(n,e)?0:-1;for(var t=0,i=n.length;t<i;t++)if(Di(n[t],e))return t;return-1}var ve={enumerable:!0,configurable:!0,get:F,set:F};function ei(e,n,t){ve.get=function(){return this[n][t]},ve.set=function(s){this[n][t]=s},Object.defineProperty(e,t,ve)}function Po(e){var n=e.$options;if(n.props&&Io(e,n.props),Ma(e),n.methods&&Lo(e,n.methods),n.data)Ro(e);else{var t=he(e._data={});t&&t.vmCount++}n.computed&&Mo(e,n.computed),n.watch&&n.watch!==gn&&zo(e,n.watch)}function Io(e,n){var t=e.$options.propsData||{},i=e._props=Ys({}),s=e.$options._propKeys=[],r=!e.$parent;r||Ce(!1);var a=function(l){s.push(l);var c=Vn(l,n,t,e);Me(i,l,c),l in e||ei(e,"_props",l)};for(var o in n)a(o);Ce(!0)}function Ro(e){var n=e.$options.data;n=e._data=N(n)?No(n,e):n||{},K(n)||(n={});var t=Object.keys(n),i=e.$options.props;e.$options.methods;for(var s=t.length;s--;){var r=t[s];i&&q(i,r)||Ws(r)||ei(e,"_data",r)}var a=he(n);a&&a.vmCount++}function No(e,n){Ye();try{return e.call(n,n)}catch(t){return Le(t,n,"data()"),{}}finally{Qe()}}var Do={lazy:!0};function Mo(e,n){var t=e._computedWatchers=Object.create(null),i=yt();for(var s in n){var r=n[s],a=N(r)?r:r.get;i||(t[s]=new Zn(e,a||F,F,Do)),s in e||hr(e,s,r)}}function hr(e,n,t){var i=!yt();N(t)?(ve.get=i?Li(n):zi(t),ve.set=F):(ve.get=t.get?i&&t.cache!==!1?Li(n):zi(t.get):F,ve.set=t.set||F),Object.defineProperty(e,n,ve)}function Li(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),ke.target&&t.depend(),t.value}}function zi(e){return function(){return e.call(this,this)}}function Lo(e,n){e.$options.props;for(var t in n)e[t]=typeof n[t]!="function"?F:Fs(n[t],e)}function zo(e,n){for(var t in n){var i=n[t];if(k(i))for(var s=0;s<i.length;s++)En(e,t,i[s]);else En(e,t,i)}}function En(e,n,t,i){return K(t)&&(i=t,t=t.handler),typeof t=="string"&&(t=e[t]),e.$watch(n,t,i)}function jo(e){var n={};n.get=function(){return this._data};var t={};t.get=function(){return this._props},Object.defineProperty(e.prototype,"$data",n),Object.defineProperty(e.prototype,"$props",t),e.prototype.$set=Un,e.prototype.$delete=Ks,e.prototype.$watch=function(i,s,r){var a=this;if(K(s))return En(a,i,s,r);r=r||{},r.user=!0;var o=new Zn(a,i,s,r);if(r.immediate){var l='callback for immediate watcher "'.concat(o.expression,'"');Ye(),$e(s,a,[o.value],a,l),Qe()}return function(){o.teardown()}}}var Fo=0;function Ho(e){e.prototype._init=function(n){var t=this;t._uid=Fo++,t._isVue=!0,t.__v_skip=!0,t._scope=new ga(!0),t._scope._vm=!0,n&&n._isComponent?Uo(t,n):t.$options=ze(ti(t.constructor),n||{},t),t._renderProxy=t,t._self=t,no(t),Ya(t),Fa(t),te(t,"beforeCreate",void 0,!1),mo(t),Po(t),ho(t),te(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function Uo(e,n){var t=e.$options=Object.create(e.constructor.options),i=n._parentVnode;t.parent=n.parent,t._parentVnode=i;var s=i.componentOptions;t.propsData=s.propsData,t._parentListeners=s.listeners,t._renderChildren=s.children,t._componentTag=s.tag,n.render&&(t.render=n.render,t.staticRenderFns=n.staticRenderFns)}function ti(e){var n=e.options;if(e.super){var t=ti(e.super),i=e.superOptions;if(t!==i){e.superOptions=t;var s=Bo(e);s&&R(e.extendOptions,s),n=e.options=ze(t,e.extendOptions),n.name&&(n.components[n.name]=e)}}return n}function Bo(e){var n,t=e.options,i=e.sealedOptions;for(var s in t)t[s]!==i[s]&&(n||(n={}),n[s]=t[s]);return n}function L(e){this._init(e)}Ho(L);jo(L);to(L);io(L);Ha(L);function qo(e){e.use=function(n){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(n)>-1)return this;var i=_n(arguments,1);return i.unshift(this),N(n.install)?n.install.apply(n,i):N(n)&&n.apply(null,i),t.push(n),this}}function Wo(e){e.mixin=function(n){return this.options=ze(this.options,n),this}}function Jo(e){e.cid=0;var n=1;e.extend=function(t){t=t||{};var i=this,s=i.cid,r=t._Ctor||(t._Ctor={});if(r[s])return r[s];var a=Jt(t)||Jt(i.options),o=function(c){this._init(c)};return o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.cid=n++,o.options=ze(i.options,t),o.super=i,o.options.props&&Zo(o),o.options.computed&&Go(o),o.extend=i.extend,o.mixin=i.mixin,o.use=i.use,nn.forEach(function(l){o[l]=i[l]}),a&&(o.options.components[a]=o),o.superOptions=i.options,o.extendOptions=t,o.sealedOptions=R({},o.options),r[s]=o,o}}function Zo(e){var n=e.options.props;for(var t in n)ei(e.prototype,"_props",t)}function Go(e){var n=e.options.computed;for(var t in n)hr(e.prototype,t,n[t])}function Ko(e){nn.forEach(function(n){e[n]=function(t,i){return i?(n==="component"&&K(i)&&(i.name=i.name||t,i=this.options._base.extend(i)),n==="directive"&&N(i)&&(i={bind:i,update:i}),this.options[n+"s"][t]=i,i):this.options[n+"s"][t]}})}function ji(e){return e&&(Jt(e.Ctor.options)||e.tag)}function Et(e,n){return k(e)?e.indexOf(n)>-1:typeof e=="string"?e.split(",").indexOf(n)>-1:Qr(e)?e.test(n):!1}function Fi(e,n){var t=e.cache,i=e.keys,s=e._vnode;for(var r in t){var a=t[r];if(a){var o=a.name;o&&!n(o)&&An(t,r,i,s)}}}function An(e,n,t,i){var s=e[n];s&&(!i||s.tag!==i.tag)&&s.componentInstance.$destroy(),e[n]=null,Se(t,n)}var Hi=[String,RegExp,Array],Xo={name:"keep-alive",abstract:!0,props:{include:Hi,exclude:Hi,max:[String,Number]},methods:{cacheVNode:function(){var e=this,n=e.cache,t=e.keys,i=e.vnodeToCache,s=e.keyToCache;if(i){var r=i.tag,a=i.componentInstance,o=i.componentOptions;n[s]={name:ji(o),tag:r,componentInstance:a},t.push(s),this.max&&t.length>parseInt(this.max)&&An(n,t[0],t,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)An(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",function(n){Fi(e,function(t){return Et(n,t)})}),this.$watch("exclude",function(n){Fi(e,function(t){return!Et(n,t)})})},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,n=sr(e),t=n&&n.componentOptions;if(t){var i=ji(t),s=this,r=s.include,a=s.exclude;if(r&&(!i||!Et(r,i))||a&&i&&Et(a,i))return n;var o=this,l=o.cache,c=o.keys,f=n.key==null?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):n.key;l[f]?(n.componentInstance=l[f].componentInstance,Se(c,f),c.push(f)):(this.vnodeToCache=n,this.keyToCache=f),n.data.keepAlive=!0}return n||e&&e[0]}},Yo={KeepAlive:Xo};function Qo(e){var n={};n.get=function(){return ee},Object.defineProperty(e,"config",n),e.util={warn:bo,extend:R,mergeOptions:ze,defineReactive:Me},e.set=Un,e.delete=Ks,e.nextTick=Jn,e.observable=function(t){return he(t),t},e.options=Object.create(null),nn.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,R(e.options.components,Yo),qo(e),Wo(e),Jo(e),Ko(e)}Qo(L);Object.defineProperty(L.prototype,"$isServer",{get:yt});Object.defineProperty(L.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}});Object.defineProperty(L,"FunctionalRenderContext",{value:Yn});L.version=Ka;var Vo=ne("style,class"),el=ne("input,textarea,option,select,progress"),tl=function(e,n,t){return t==="value"&&el(e)&&n!=="button"||t==="selected"&&e==="option"||t==="checked"&&e==="input"||t==="muted"&&e==="video"},dr=ne("contenteditable,draggable,spellcheck"),nl=ne("events,caret,typing,plaintext-only"),il=function(e,n){return Gt(n)||n==="false"?"false":e==="contenteditable"&&nl(n)?n:"true"},sl=ne("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Pn="http://www.w3.org/1999/xlink",ni=function(e){return e.charAt(5)===":"&&e.slice(0,5)==="xlink"},mr=function(e){return ni(e)?e.slice(6,e.length):""},Gt=function(e){return e==null||e===!1};function rl(e){for(var n=e.data,t=e,i=e;h(i.componentInstance);)i=i.componentInstance._vnode,i&&i.data&&(n=Ui(i.data,n));for(;h(t=t.parent);)t&&t.data&&(n=Ui(n,t.data));return al(n.staticClass,n.class)}function Ui(e,n){return{staticClass:ii(e.staticClass,n.staticClass),class:h(e.class)?[e.class,n.class]:n.class}}function al(e,n){return h(e)||h(n)?ii(e,si(n)):""}function ii(e,n){return e?n?e+" "+n:e:n||""}function si(e){return Array.isArray(e)?ol(e):H(e)?ll(e):typeof e=="string"?e:""}function ol(e){for(var n="",t,i=0,s=e.length;i<s;i++)h(t=si(e[i]))&&t!==""&&(n&&(n+=" "),n+=t);return n}function ll(e){var n="";for(var t in e)e[t]&&(n&&(n+=" "),n+=t);return n}var cl={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ul=ne("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ri=ne("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),vr=function(e){return ul(e)||ri(e)};function fl(e){if(ri(e))return"svg";if(e==="math")return"math"}var At=Object.create(null);function pl(e){if(!Y)return!0;if(vr(e))return!1;if(e=e.toLowerCase(),At[e]!=null)return At[e];var n=document.createElement(e);return e.indexOf("-")>-1?At[e]=n.constructor===window.HTMLUnknownElement||n.constructor===window.HTMLElement:At[e]=/HTMLUnknownElement/.test(n.toString())}var In=ne("text,number,password,search,email,tel,url");function hl(e){if(typeof e=="string"){var n=document.querySelector(e);return n||document.createElement("div")}else return e}function dl(e,n){var t=document.createElement(e);return e!=="select"||n.data&&n.data.attrs&&n.data.attrs.multiple!==void 0&&t.setAttribute("multiple","multiple"),t}function ml(e,n){return document.createElementNS(cl[e],n)}function vl(e){return document.createTextNode(e)}function _l(e){return document.createComment(e)}function gl(e,n,t){e.insertBefore(n,t)}function yl(e,n){e.removeChild(n)}function xl(e,n){e.appendChild(n)}function bl(e){return e.parentNode}function wl(e){return e.nextSibling}function kl(e){return e.tagName}function Cl(e,n){e.textContent=n}function $l(e,n){e.setAttribute(n,"")}var Sl=Object.freeze({__proto__:null,createElement:dl,createElementNS:ml,createTextNode:vl,createComment:_l,insertBefore:gl,removeChild:yl,appendChild:xl,parentNode:bl,nextSibling:wl,tagName:kl,setTextContent:Cl,setStyleScope:$l}),Tl={create:function(e,n){Je(n)},update:function(e,n){e.data.ref!==n.data.ref&&(Je(e,!0),Je(n))},destroy:function(e){Je(e,!0)}};function Je(e,n){var t=e.data.ref;if(!!h(t)){var i=e.context,s=e.componentInstance||e.elm,r=n?null:s,a=n?void 0:s;if(N(t)){$e(t,i,[r],i,"template ref function");return}var o=e.data.refInFor,l=typeof t=="string"||typeof t=="number",c=ce(t),f=i.$refs;if(l||c){if(o){var v=l?f[t]:t.value;n?k(v)&&Se(v,s):k(v)?v.includes(s)||v.push(s):l?(f[t]=[s],Bi(i,t,f[t])):t.value=[s]}else if(l){if(n&&f[t]!==s)return;f[t]=a,Bi(i,t,r)}else if(c){if(n&&t.value!==s)return;t.value=r}}}}function Bi(e,n,t){var i=e._setupState;i&&q(i,n)&&(ce(i[n])?i[n].value=t:i[n]=t)}var ge=new X("",{},[]),tt=["create","activate","update","remove","destroy"];function Ee(e,n){return e.key===n.key&&e.asyncFactory===n.asyncFactory&&(e.tag===n.tag&&e.isComment===n.isComment&&h(e.data)===h(n.data)&&Ol(e,n)||D(e.isAsyncPlaceholder)&&x(n.asyncFactory.error))}function Ol(e,n){if(e.tag!=="input")return!0;var t,i=h(t=e.data)&&h(t=t.attrs)&&t.type,s=h(t=n.data)&&h(t=t.attrs)&&t.type;return i===s||In(i)&&In(s)}function El(e,n,t){var i,s,r={};for(i=n;i<=t;++i)s=e[i].key,h(s)&&(r[s]=i);return r}function Al(e){var n,t,i={},s=e.modules,r=e.nodeOps;for(n=0;n<tt.length;++n)for(i[tt[n]]=[],t=0;t<s.length;++t)h(s[t][tt[n]])&&i[tt[n]].push(s[t][tt[n]]);function a(p){return new X(r.tagName(p).toLowerCase(),{},[],void 0,p)}function o(p,u){function m(){--m.listeners===0&&l(p)}return m.listeners=u,m}function l(p){var u=r.parentNode(p);h(u)&&r.removeChild(u,p)}function c(p,u,m,g,y,C,b){if(h(p.elm)&&h(C)&&(p=C[b]=yn(p)),p.isRootInsert=!y,!f(p,u,m,g)){var w=p.data,$=p.children,O=p.tag;h(O)?(p.elm=p.ns?r.createElementNS(p.ns,O):r.createElement(O,p),W(p),S(p,$,u),h(w)&&j(p,u),_(m,p.elm,g)):D(p.isComment)?(p.elm=r.createComment(p.text),_(m,p.elm,g)):(p.elm=r.createTextNode(p.text),_(m,p.elm,g))}}function f(p,u,m,g){var y=p.data;if(h(y)){var C=h(p.componentInstance)&&y.keepAlive;if(h(y=y.hook)&&h(y=y.init)&&y(p,!1),h(p.componentInstance))return v(p,u),_(m,p.elm,g),D(C)&&d(p,u,m,g),!0}}function v(p,u){h(p.data.pendingInsert)&&(u.push.apply(u,p.data.pendingInsert),p.data.pendingInsert=null),p.elm=p.componentInstance.$el,I(p)?(j(p,u),W(p)):(Je(p),u.push(p))}function d(p,u,m,g){for(var y,C=p;C.componentInstance;)if(C=C.componentInstance._vnode,h(y=C.data)&&h(y=y.transition)){for(y=0;y<i.activate.length;++y)i.activate[y](ge,C);u.push(C);break}_(m,p.elm,g)}function _(p,u,m){h(p)&&(h(m)?r.parentNode(m)===p&&r.insertBefore(p,u,m):r.appendChild(p,u))}function S(p,u,m){if(k(u))for(var g=0;g<u.length;++g)c(u[g],m,p.elm,null,!0,u,g);else _t(p.text)&&r.appendChild(p.elm,r.createTextNode(String(p.text)))}function I(p){for(;p.componentInstance;)p=p.componentInstance._vnode;return h(p.tag)}function j(p,u){for(var m=0;m<i.create.length;++m)i.create[m](ge,p);n=p.data.hook,h(n)&&(h(n.create)&&n.create(ge,p),h(n.insert)&&u.push(p))}function W(p){var u;if(h(u=p.fnScopeId))r.setStyleScope(p.elm,u);else for(var m=p;m;)h(u=m.context)&&h(u=u.$options._scopeId)&&r.setStyleScope(p.elm,u),m=m.parent;h(u=Pe)&&u!==p.context&&u!==p.fnContext&&h(u=u.$options._scopeId)&&r.setStyleScope(p.elm,u)}function B(p,u,m,g,y,C){for(;g<=y;++g)c(m[g],C,p,u,!1,m,g)}function Q(p){var u,m,g=p.data;if(h(g))for(h(u=g.hook)&&h(u=u.destroy)&&u(p),u=0;u<i.destroy.length;++u)i.destroy[u](p);if(h(u=p.children))for(m=0;m<p.children.length;++m)Q(p.children[m])}function ie(p,u,m){for(;u<=m;++u){var g=p[u];h(g)&&(h(g.tag)?(ue(g),Q(g)):l(g.elm))}}function ue(p,u){if(h(u)||h(p.data)){var m,g=i.remove.length+1;for(h(u)?u.listeners+=g:u=o(p.elm,g),h(m=p.componentInstance)&&h(m=m._vnode)&&h(m.data)&&ue(m,u),m=0;m<i.remove.length;++m)i.remove[m](p,u);h(m=p.data.hook)&&h(m=m.remove)?m(p,u):u()}else l(p.elm)}function Te(p,u,m,g,y){for(var C=0,b=0,w=u.length-1,$=u[0],O=u[w],E=m.length-1,z=m[0],V=m[E],Oe,de,me,vi,an=!y;C<=w&&b<=E;)x($)?$=u[++C]:x(O)?O=u[--w]:Ee($,z)?(re($,z,g,m,b),$=u[++C],z=m[++b]):Ee(O,V)?(re(O,V,g,m,E),O=u[--w],V=m[--E]):Ee($,V)?(re($,V,g,m,E),an&&r.insertBefore(p,$.elm,r.nextSibling(O.elm)),$=u[++C],V=m[--E]):Ee(O,z)?(re(O,z,g,m,b),an&&r.insertBefore(p,O.elm,$.elm),O=u[--w],z=m[++b]):(x(Oe)&&(Oe=El(u,C,w)),de=h(z.key)?Oe[z.key]:se(z,u,C,w),x(de)?c(z,g,p,$.elm,!1,m,b):(me=u[de],Ee(me,z)?(re(me,z,g,m,b),u[de]=void 0,an&&r.insertBefore(p,me.elm,$.elm)):c(z,g,p,$.elm,!1,m,b)),z=m[++b]);C>w?(vi=x(m[E+1])?null:m[E+1].elm,B(p,vi,m,b,E,g)):b>E&&ie(u,C,w)}function se(p,u,m,g){for(var y=m;y<g;y++){var C=u[y];if(h(C)&&Ee(p,C))return y}}function re(p,u,m,g,y,C){if(p!==u){h(u.elm)&&h(g)&&(u=g[y]=yn(u));var b=u.elm=p.elm;if(D(p.isAsyncPlaceholder)){h(u.asyncFactory.resolved)?Ue(p.elm,u,m):u.isAsyncPlaceholder=!0;return}if(D(u.isStatic)&&D(p.isStatic)&&u.key===p.key&&(D(u.isCloned)||D(u.isOnce))){u.componentInstance=p.componentInstance;return}var w,$=u.data;h($)&&h(w=$.hook)&&h(w=w.prepatch)&&w(p,u);var O=p.children,E=u.children;if(h($)&&I(u)){for(w=0;w<i.update.length;++w)i.update[w](p,u);h(w=$.hook)&&h(w=w.update)&&w(p,u)}x(u.text)?h(O)&&h(E)?O!==E&&Te(b,O,E,m,C):h(E)?(h(p.text)&&r.setTextContent(b,""),B(b,null,E,0,E.length-1,m)):h(O)?ie(O,0,O.length-1):h(p.text)&&r.setTextContent(b,""):p.text!==u.text&&r.setTextContent(b,u.text),h($)&&h(w=$.hook)&&h(w=w.postpatch)&&w(p,u)}}function Ve(p,u,m){if(D(m)&&h(p.parent))p.parent.data.pendingInsert=u;else for(var g=0;g<u.length;++g)u[g].data.hook.insert(u[g])}var kt=ne("attrs,class,staticClass,staticStyle,key");function Ue(p,u,m,g){var y,C=u.tag,b=u.data,w=u.children;if(g=g||b&&b.pre,u.elm=p,D(u.isComment)&&h(u.asyncFactory))return u.isAsyncPlaceholder=!0,!0;if(h(b)&&(h(y=b.hook)&&h(y=y.init)&&y(u,!0),h(y=u.componentInstance)))return v(u,m),!0;if(h(C)){if(h(w))if(!p.hasChildNodes())S(u,w,m);else if(h(y=b)&&h(y=y.domProps)&&h(y=y.innerHTML)){if(y!==p.innerHTML)return!1}else{for(var $=!0,O=p.firstChild,E=0;E<w.length;E++){if(!O||!Ue(O,w[E],m,g)){$=!1;break}O=O.nextSibling}if(!$||O)return!1}if(h(b)){var z=!1;for(var V in b)if(!kt(V)){z=!0,j(u,m);break}!z&&b.class&&qt(b.class)}}else p.data!==u.text&&(p.data=u.text);return!0}return function(u,m,g,y){if(x(m)){h(u)&&Q(u);return}var C=!1,b=[];if(x(u))C=!0,c(m,b);else{var w=h(u.nodeType);if(!w&&Ee(u,m))re(u,m,b,null,null,y);else{if(w){if(u.nodeType===1&&u.hasAttribute(_i)&&(u.removeAttribute(_i),g=!0),D(g)&&Ue(u,m,b))return Ve(m,b,!0),u;u=a(u)}var $=u.elm,O=r.parentNode($);if(c(m,b,$._leaveCb?null:O,r.nextSibling($)),h(m.parent))for(var E=m.parent,z=I(m);E;){for(var V=0;V<i.destroy.length;++V)i.destroy[V](E);if(E.elm=m.elm,z){for(var Oe=0;Oe<i.create.length;++Oe)i.create[Oe](ge,E);var de=E.data.hook.insert;if(de.merged)for(var me=1;me<de.fns.length;me++)de.fns[me]()}else Je(E);E=E.parent}h(O)?ie([u],0,0):h(u.tag)&&Q(u)}}return Ve(m,b,C),m.elm}}var Pl={create:un,update:un,destroy:function(n){un(n,ge)}};function un(e,n){(e.data.directives||n.data.directives)&&Il(e,n)}function Il(e,n){var t=e===ge,i=n===ge,s=qi(e.data.directives,e.context),r=qi(n.data.directives,n.context),a=[],o=[],l,c,f;for(l in r)c=s[l],f=r[l],c?(f.oldValue=c.value,f.oldArg=c.arg,nt(f,"update",n,e),f.def&&f.def.componentUpdated&&o.push(f)):(nt(f,"bind",n,e),f.def&&f.def.inserted&&a.push(f));if(a.length){var v=function(){for(var d=0;d<a.length;d++)nt(a[d],"inserted",n,e)};t?_e(n,"insert",v):v()}if(o.length&&_e(n,"postpatch",function(){for(var d=0;d<o.length;d++)nt(o[d],"componentUpdated",n,e)}),!t)for(l in s)r[l]||nt(s[l],"unbind",e,e,i)}var Rl=Object.create(null);function qi(e,n){var t=Object.create(null);if(!e)return t;var i,s;for(i=0;i<e.length;i++){if(s=e[i],s.modifiers||(s.modifiers=Rl),t[Nl(s)]=s,n._setupState&&n._setupState.__sfc){var r=s.def||Zt(n,"_setupState","v-"+s.name);typeof r=="function"?s.def={bind:r,update:r}:s.def=r}s.def=s.def||Zt(n.$options,"directives",s.name)}return t}function Nl(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function nt(e,n,t,i,s){var r=e.def&&e.def[n];if(r)try{r(t.elm,e,t,i,s)}catch(a){Le(a,t.context,"directive ".concat(e.name," ").concat(n," hook"))}}var Dl=[Tl,Pl];function Wi(e,n){var t=n.componentOptions;if(!(h(t)&&t.Ctor.options.inheritAttrs===!1)&&!(x(e.data.attrs)&&x(n.data.attrs))){var i,s,r,a=n.elm,o=e.data.attrs||{},l=n.data.attrs||{};(h(l.__ob__)||D(l._v_attr_proxy))&&(l=n.data.attrs=R({},l));for(i in l)s=l[i],r=o[i],r!==s&&Ji(a,i,s,n.data.pre);(Ke||Fn)&&l.value!==o.value&&Ji(a,"value",l.value);for(i in o)x(l[i])&&(ni(i)?a.removeAttributeNS(Pn,mr(i)):dr(i)||a.removeAttribute(i))}}function Ji(e,n,t,i){i||e.tagName.indexOf("-")>-1?Zi(e,n,t):sl(n)?Gt(t)?e.removeAttribute(n):(t=n==="allowfullscreen"&&e.tagName==="EMBED"?"true":n,e.setAttribute(n,t)):dr(n)?e.setAttribute(n,il(n,t)):ni(n)?Gt(t)?e.removeAttributeNS(Pn,mr(n)):e.setAttributeNS(Pn,n,t):Zi(e,n,t)}function Zi(e,n,t){if(Gt(t))e.removeAttribute(n);else{if(Ke&&!Xe&&e.tagName==="TEXTAREA"&&n==="placeholder"&&t!==""&&!e.__ieph){var i=function(s){s.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(n,t)}}var Ml={create:Wi,update:Wi};function Gi(e,n){var t=n.elm,i=n.data,s=e.data;if(!(x(i.staticClass)&&x(i.class)&&(x(s)||x(s.staticClass)&&x(s.class)))){var r=rl(n),a=t._transitionClasses;h(a)&&(r=ii(r,si(a))),r!==t._prevClass&&(t.setAttribute("class",r),t._prevClass=r)}}var Ll={create:Gi,update:Gi},fn="__r",pn="__c";function zl(e){if(h(e[fn])){var n=Ke?"change":"input";e[n]=[].concat(e[fn],e[n]||[]),delete e[fn]}h(e[pn])&&(e.change=[].concat(e[pn],e.change||[]),delete e[pn])}var mt;function jl(e,n,t){var i=mt;return function s(){var r=n.apply(null,arguments);r!==null&&_r(e,s,t,i)}}var Fl=kn&&!(gi&&Number(gi[1])<=53);function Hl(e,n,t,i){if(Fl){var s=fr,r=n;n=r._wrapper=function(a){if(a.target===a.currentTarget||a.timeStamp>=s||a.timeStamp<=0||a.target.ownerDocument!==document)return r.apply(this,arguments)}}mt.addEventListener(e,n,Js?{capture:t,passive:i}:t)}function _r(e,n,t,i){(i||mt).removeEventListener(e,n._wrapper||n,t)}function hn(e,n){if(!(x(e.data.on)&&x(n.data.on))){var t=n.data.on||{},i=e.data.on||{};mt=n.elm||e.elm,zl(t),Qs(t,i,Hl,_r,jl,n.context),mt=void 0}}var Ul={create:hn,update:hn,destroy:function(e){return hn(e,ge)}},Pt;function Ki(e,n){if(!(x(e.data.domProps)&&x(n.data.domProps))){var t,i,s=n.elm,r=e.data.domProps||{},a=n.data.domProps||{};(h(a.__ob__)||D(a._v_attr_proxy))&&(a=n.data.domProps=R({},a));for(t in r)t in a||(s[t]="");for(t in a){if(i=a[t],t==="textContent"||t==="innerHTML"){if(n.children&&(n.children.length=0),i===r[t])continue;s.childNodes.length===1&&s.removeChild(s.childNodes[0])}if(t==="value"&&s.tagName!=="PROGRESS"){s._value=i;var o=x(i)?"":String(i);Bl(s,o)&&(s.value=o)}else if(t==="innerHTML"&&ri(s.tagName)&&x(s.innerHTML)){Pt=Pt||document.createElement("div"),Pt.innerHTML="<svg>".concat(i,"</svg>");for(var l=Pt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}else if(i!==r[t])try{s[t]=i}catch{}}}}function Bl(e,n){return!e.composing&&(e.tagName==="OPTION"||ql(e,n)||Wl(e,n))}function ql(e,n){var t=!0;try{t=document.activeElement!==e}catch{}return t&&e.value!==n}function Wl(e,n){var t=e.value,i=e._vModifiers;if(h(i)){if(i.number)return ut(t)!==ut(n);if(i.trim)return t.trim()!==n.trim()}return t!==n}var Jl={create:Ki,update:Ki},Zl=Fe(function(e){var n={},t=/;(?![^(]*\))/g,i=/:(.+)/;return e.split(t).forEach(function(s){if(s){var r=s.split(i);r.length>1&&(n[r[0].trim()]=r[1].trim())}}),n});function dn(e){var n=gr(e.style);return e.staticStyle?R(e.staticStyle,n):n}function gr(e){return Array.isArray(e)?Hs(e):typeof e=="string"?Zl(e):e}function Gl(e,n){var t={},i;if(n)for(var s=e;s.componentInstance;)s=s.componentInstance._vnode,s&&s.data&&(i=dn(s.data))&&R(t,i);(i=dn(e.data))&&R(t,i);for(var r=e;r=r.parent;)r.data&&(i=dn(r.data))&&R(t,i);return t}var Kl=/^--/,Xi=/\s*!important$/,Yi=function(e,n,t){if(Kl.test(n))e.style.setProperty(n,t);else if(Xi.test(t))e.style.setProperty(gt(n),t.replace(Xi,""),"important");else{var i=Xl(n);if(Array.isArray(t))for(var s=0,r=t.length;s<r;s++)e.style[i]=t[s];else e.style[i]=t}},Qi=["Webkit","Moz","ms"],It,Xl=Fe(function(e){if(It=It||document.createElement("div").style,e=Ne(e),e!=="filter"&&e in It)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),t=0;t<Qi.length;t++){var i=Qi[t]+n;if(i in It)return i}});function Vi(e,n){var t=n.data,i=e.data;if(!(x(t.staticStyle)&&x(t.style)&&x(i.staticStyle)&&x(i.style))){var s,r,a=n.elm,o=i.staticStyle,l=i.normalizedStyle||i.style||{},c=o||l,f=gr(n.data.style)||{};n.data.normalizedStyle=h(f.__ob__)?R({},f):f;var v=Gl(n,!0);for(r in c)x(v[r])&&Yi(a,r,"");for(r in v)s=v[r],s!==c[r]&&Yi(a,r,s==null?"":s)}}var Yl={create:Vi,update:Vi},yr=/\s+/;function xr(e,n){if(!(!n||!(n=n.trim())))if(e.classList)n.indexOf(" ")>-1?n.split(yr).forEach(function(i){return e.classList.add(i)}):e.classList.add(n);else{var t=" ".concat(e.getAttribute("class")||""," ");t.indexOf(" "+n+" ")<0&&e.setAttribute("class",(t+n).trim())}}function br(e,n){if(!(!n||!(n=n.trim())))if(e.classList)n.indexOf(" ")>-1?n.split(yr).forEach(function(s){return e.classList.remove(s)}):e.classList.remove(n),e.classList.length||e.removeAttribute("class");else{for(var t=" ".concat(e.getAttribute("class")||""," "),i=" "+n+" ";t.indexOf(i)>=0;)t=t.replace(i," ");t=t.trim(),t?e.setAttribute("class",t):e.removeAttribute("class")}}function wr(e){if(!!e){if(typeof e=="object"){var n={};return e.css!==!1&&R(n,es(e.name||"v")),R(n,e),n}else if(typeof e=="string")return es(e)}}var es=Fe(function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}}),kr=Y&&!Xe,Be="transition",mn="animation",zt="transition",Kt="transitionend",Rn="animation",Cr="animationend";kr&&(window.ontransitionend===void 0&&window.onwebkittransitionend!==void 0&&(zt="WebkitTransition",Kt="webkitTransitionEnd"),window.onanimationend===void 0&&window.onwebkitanimationend!==void 0&&(Rn="WebkitAnimation",Cr="webkitAnimationEnd"));var ts=Y?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function $r(e){ts(function(){ts(e)})}function Ie(e,n){var t=e._transitionClasses||(e._transitionClasses=[]);t.indexOf(n)<0&&(t.push(n),xr(e,n))}function pe(e,n){e._transitionClasses&&Se(e._transitionClasses,n),br(e,n)}function Sr(e,n,t){var i=Tr(e,n),s=i.type,r=i.timeout,a=i.propCount;if(!s)return t();var o=s===Be?Kt:Cr,l=0,c=function(){e.removeEventListener(o,f),t()},f=function(v){v.target===e&&++l>=a&&c()};setTimeout(function(){l<a&&c()},r+1),e.addEventListener(o,f)}var Ql=/\b(transform|all)(,|$)/;function Tr(e,n){var t=window.getComputedStyle(e),i=(t[zt+"Delay"]||"").split(", "),s=(t[zt+"Duration"]||"").split(", "),r=ns(i,s),a=(t[Rn+"Delay"]||"").split(", "),o=(t[Rn+"Duration"]||"").split(", "),l=ns(a,o),c,f=0,v=0;n===Be?r>0&&(c=Be,f=r,v=s.length):n===mn?l>0&&(c=mn,f=l,v=o.length):(f=Math.max(r,l),c=f>0?r>l?Be:mn:null,v=c?c===Be?s.length:o.length:0);var d=c===Be&&Ql.test(t[zt+"Property"]);return{type:c,timeout:f,propCount:v,hasTransform:d}}function ns(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max.apply(null,n.map(function(t,i){return is(t)+is(e[i])}))}function is(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Nn(e,n){var t=e.elm;h(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var i=wr(e.data.transition);if(!x(i)&&!(h(t._enterCb)||t.nodeType!==1)){for(var s=i.css,r=i.type,a=i.enterClass,o=i.enterToClass,l=i.enterActiveClass,c=i.appearClass,f=i.appearToClass,v=i.appearActiveClass,d=i.beforeEnter,_=i.enter,S=i.afterEnter,I=i.enterCancelled,j=i.beforeAppear,W=i.appear,B=i.afterAppear,Q=i.appearCancelled,ie=i.duration,ue=Pe,Te=Pe.$vnode;Te&&Te.parent;)ue=Te.context,Te=Te.parent;var se=!ue._isMounted||!e.isRootInsert;if(!(se&&!W&&W!=="")){var re=se&&c?c:a,Ve=se&&v?v:l,kt=se&&f?f:o,Ue=se&&j||d,p=se&&N(W)?W:_,u=se&&B||S,m=se&&Q||I,g=ut(H(ie)?ie.enter:ie),y=s!==!1&&!Xe,C=ai(p),b=t._enterCb=jt(function(){y&&(pe(t,kt),pe(t,Ve)),b.cancelled?(y&&pe(t,re),m&&m(t)):u&&u(t),t._enterCb=null});e.data.show||_e(e,"insert",function(){var w=t.parentNode,$=w&&w._pending&&w._pending[e.key];$&&$.tag===e.tag&&$.elm._leaveCb&&$.elm._leaveCb(),p&&p(t,b)}),Ue&&Ue(t),y&&(Ie(t,re),Ie(t,Ve),$r(function(){pe(t,re),b.cancelled||(Ie(t,kt),C||(Er(g)?setTimeout(b,g):Sr(t,r,b)))})),e.data.show&&(n&&n(),p&&p(t,b)),!y&&!C&&b()}}}function Or(e,n){var t=e.elm;h(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var i=wr(e.data.transition);if(x(i)||t.nodeType!==1)return n();if(h(t._leaveCb))return;var s=i.css,r=i.type,a=i.leaveClass,o=i.leaveToClass,l=i.leaveActiveClass,c=i.beforeLeave,f=i.leave,v=i.afterLeave,d=i.leaveCancelled,_=i.delayLeave,S=i.duration,I=s!==!1&&!Xe,j=ai(f),W=ut(H(S)?S.leave:S),B=t._leaveCb=jt(function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[e.key]=null),I&&(pe(t,o),pe(t,l)),B.cancelled?(I&&pe(t,a),d&&d(t)):(n(),v&&v(t)),t._leaveCb=null});_?_(Q):Q();function Q(){B.cancelled||(!e.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[e.key]=e),c&&c(t),I&&(Ie(t,a),Ie(t,l),$r(function(){pe(t,a),B.cancelled||(Ie(t,o),j||(Er(W)?setTimeout(B,W):Sr(t,r,B)))})),f&&f(t,B),!I&&!j&&B())}}function Er(e){return typeof e=="number"&&!isNaN(e)}function ai(e){if(x(e))return!1;var n=e.fns;return h(n)?ai(Array.isArray(n)?n[0]:n):(e._length||e.length)>1}function ss(e,n){n.data.show!==!0&&Nn(n)}var Vl=Y?{create:ss,activate:ss,remove:function(e,n){e.data.show!==!0?Or(e,n):n()}}:{},ec=[Ml,Ll,Ul,Jl,Yl,Vl],tc=ec.concat(Dl),nc=Al({nodeOps:Sl,modules:tc});Xe&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&oi(e,"input")});var Ar={inserted:function(e,n,t,i){t.tag==="select"?(i.elm&&!i.elm._vOptions?_e(t,"postpatch",function(){Ar.componentUpdated(e,n,t)}):rs(e,n,t.context),e._vOptions=[].map.call(e.options,Xt)):(t.tag==="textarea"||In(e.type))&&(e._vModifiers=n.modifiers,n.modifiers.lazy||(e.addEventListener("compositionstart",ic),e.addEventListener("compositionend",ls),e.addEventListener("change",ls),Xe&&(e.vmodel=!0)))},componentUpdated:function(e,n,t){if(t.tag==="select"){rs(e,n,t.context);var i=e._vOptions,s=e._vOptions=[].map.call(e.options,Xt);if(s.some(function(a,o){return!De(a,i[o])})){var r=e.multiple?n.value.some(function(a){return os(a,s)}):n.value!==n.oldValue&&os(n.value,s);r&&oi(e,"change")}}}};function rs(e,n,t){as(e,n),(Ke||Fn)&&setTimeout(function(){as(e,n)},0)}function as(e,n,t){var i=n.value,s=e.multiple;if(!(s&&!Array.isArray(i))){for(var r,a,o=0,l=e.options.length;o<l;o++)if(a=e.options[o],s)r=Bs(i,Xt(a))>-1,a.selected!==r&&(a.selected=r);else if(De(Xt(a),i)){e.selectedIndex!==o&&(e.selectedIndex=o);return}s||(e.selectedIndex=-1)}}function os(e,n){return n.every(function(t){return!De(t,e)})}function Xt(e){return"_value"in e?e._value:e.value}function ic(e){e.target.composing=!0}function ls(e){!e.target.composing||(e.target.composing=!1,oi(e.target,"input"))}function oi(e,n){var t=document.createEvent("HTMLEvents");t.initEvent(n,!0,!0),e.dispatchEvent(t)}function Dn(e){return e.componentInstance&&(!e.data||!e.data.transition)?Dn(e.componentInstance._vnode):e}var sc={bind:function(e,n,t){var i=n.value;t=Dn(t);var s=t.data&&t.data.transition,r=e.__vOriginalDisplay=e.style.display==="none"?"":e.style.display;i&&s?(t.data.show=!0,Nn(t,function(){e.style.display=r})):e.style.display=i?r:"none"},update:function(e,n,t){var i=n.value,s=n.oldValue;if(!i!=!s){t=Dn(t);var r=t.data&&t.data.transition;r?(t.data.show=!0,i?Nn(t,function(){e.style.display=e.__vOriginalDisplay}):Or(t,function(){e.style.display="none"})):e.style.display=i?e.__vOriginalDisplay:"none"}},unbind:function(e,n,t,i,s){s||(e.style.display=e.__vOriginalDisplay)}},rc={model:Ar,show:sc},Pr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Mn(e){var n=e&&e.componentOptions;return n&&n.Ctor.options.abstract?Mn(sr(n.children)):e}function Ir(e){var n={},t=e.$options;for(var i in t.propsData)n[i]=e[i];var s=t._parentListeners;for(var i in s)n[Ne(i)]=s[i];return n}function cs(e,n){if(/\d-keep-alive$/.test(n.tag))return e("keep-alive",{props:n.componentOptions.propsData})}function ac(e){for(;e=e.parent;)if(e.data.transition)return!0}function oc(e,n){return n.key===e.key&&n.tag===e.tag}var lc=function(e){return e.tag||pt(e)},cc=function(e){return e.name==="show"},uc={name:"transition",props:Pr,abstract:!0,render:function(e){var n=this,t=this.$slots.default;if(!!t&&(t=t.filter(lc),!!t.length)){var i=this.mode,s=t[0];if(ac(this.$vnode))return s;var r=Mn(s);if(!r)return s;if(this._leaving)return cs(e,s);var a="__transition-".concat(this._uid,"-");r.key=r.key==null?r.isComment?a+"comment":a+r.tag:_t(r.key)?String(r.key).indexOf(a)===0?r.key:a+r.key:r.key;var o=(r.data||(r.data={})).transition=Ir(this),l=this._vnode,c=Mn(l);if(r.data.directives&&r.data.directives.some(cc)&&(r.data.show=!0),c&&c.data&&!oc(r,c)&&!pt(c)&&!(c.componentInstance&&c.componentInstance._vnode.isComment)){var f=c.data.transition=R({},o);if(i==="out-in")return this._leaving=!0,_e(f,"afterLeave",function(){n._leaving=!1,n.$forceUpdate()}),cs(e,s);if(i==="in-out"){if(pt(r))return l;var v,d=function(){v()};_e(o,"afterEnter",d),_e(o,"enterCancelled",d),_e(f,"delayLeave",function(_){v=_})}}return s}}},Rr=R({tag:String,moveClass:String},Pr);delete Rr.mode;var fc={props:Rr,beforeMount:function(){var e=this,n=this._update;this._update=function(t,i){var s=lr(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,s(),n.call(e,t,i)}},render:function(e){for(var n=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),i=this.prevChildren=this.children,s=this.$slots.default||[],r=this.children=[],a=Ir(this),o=0;o<s.length;o++){var l=s[o];l.tag&&l.key!=null&&String(l.key).indexOf("__vlist")!==0&&(r.push(l),t[l.key]=l,(l.data||(l.data={})).transition=a)}if(i){for(var c=[],f=[],o=0;o<i.length;o++){var l=i[o];l.data.transition=a,l.data.pos=l.elm.getBoundingClientRect(),t[l.key]?c.push(l):f.push(l)}this.kept=e(n,null,c),this.removed=f}return e(n,null,r)},updated:function(){var e=this.prevChildren,n=this.moveClass||(this.name||"v")+"-move";!e.length||!this.hasMove(e[0].elm,n)||(e.forEach(pc),e.forEach(hc),e.forEach(dc),this._reflow=document.body.offsetHeight,e.forEach(function(t){if(t.data.moved){var i=t.elm,s=i.style;Ie(i,n),s.transform=s.WebkitTransform=s.transitionDuration="",i.addEventListener(Kt,i._moveCb=function r(a){a&&a.target!==i||(!a||/transform$/.test(a.propertyName))&&(i.removeEventListener(Kt,r),i._moveCb=null,pe(i,n))})}}))},methods:{hasMove:function(e,n){if(!kr)return!1;if(this._hasMove)return this._hasMove;var t=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(s){br(t,s)}),xr(t,n),t.style.display="none",this.$el.appendChild(t);var i=Tr(t);return this.$el.removeChild(t),this._hasMove=i.hasTransform}}};function pc(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function hc(e){e.data.newPos=e.elm.getBoundingClientRect()}function dc(e){var n=e.data.pos,t=e.data.newPos,i=n.left-t.left,s=n.top-t.top;if(i||s){e.data.moved=!0;var r=e.elm.style;r.transform=r.WebkitTransform="translate(".concat(i,"px,").concat(s,"px)"),r.transitionDuration="0s"}}var mc={Transition:uc,TransitionGroup:fc};L.config.mustUseProp=tl;L.config.isReservedTag=vr;L.config.isReservedAttr=Vo;L.config.getTagNamespace=fl;L.config.isUnknownElement=pl;R(L.options.directives,rc);R(L.options.components,mc);L.prototype.__patch__=Y?nc:F;L.prototype.$mount=function(e,n){return e=e&&Y?hl(e):void 0,so(this,e,n)};Y&&setTimeout(function(){ee.devtools&&Ft&&Ft.emit("init",L)},0);var vc=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"flex-y",staticStyle:{height:"100%"}},[e.app.header?t("div",{staticStyle:{padding:"10px",color:"white"}},[t("div",{staticClass:"flex-x"},[t("div",{staticClass:"flex-grow"}),e.app.user.logged_in?t("div",[t("button",{staticClass:"btn-sm",on:{click:function(i){return e.app.logout()}}},[e._v("Log Out")])]):e._e()])]):e._e(),t("div",{staticClass:"flex-y flex-grow"},[e.route.cmp&&e.app?t(e.route.cmp,{key:e.app.router.counter,tag:"component",staticClass:"flex-grow",staticStyle:{"overflow-y":"auto"},attrs:{app:e.app,args:e.route.args}}):e.app.user.logged_in?t("Home",{attrs:{app:e.app}}):t("div",{staticClass:"p-2 text-center",staticStyle:{"margin-left":"auto","margin-right":"auto","max-width":"500px"}},[t("h3",[e._v("Log In")]),t("div",[t("h5",{staticClass:"my-2"},[e._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"form-control p-1",attrs:{type:"text"},domProps:{value:e.email},on:{input:function(i){i.target.composing||(e.email=i.target.value)}}})]),t("div",[t("h5",{staticClass:"my-2"},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.pass,expression:"pass"}],staticClass:"form-control p-1",attrs:{type:"password"},domProps:{value:e.pass},on:{keypress:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.doLogin.apply(null,arguments)},input:function(i){i.target.composing||(e.pass=i.target.value)}}})]),e.login_error?t("div",{staticClass:"p-2 text-center"},[e._v(" "+e._s(e.login_error)+" ")]):e._e(),t("button",{on:{click:e.doLogin}},[e._v("Log In")])])],1)])},_c=[];function M(e,n,t,i,s,r,a,o){var l=typeof e=="function"?e.options:e;n&&(l.render=n,l.staticRenderFns=t,l._compiled=!0),i&&(l.functional=!0),r&&(l._scopeId="data-v-"+r);var c;if(a?(c=function(d){d=d||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!d&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(d=__VUE_SSR_CONTEXT__),s&&s.call(this,d),d&&d._registeredComponents&&d._registeredComponents.add(a)},l._ssrRegister=c):s&&(c=o?function(){s.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(l.functional){l._injectStyles=c;var f=l.render;l.render=function(_,S){return c.call(S),f(_,S)}}else{var v=l.beforeCreate;l.beforeCreate=v?[].concat(v,c):[c]}return{exports:e,options:l}}const gc={props:["app"],data(){return{email:"",pass:"",login_error:null,route:this.app.router}},methods:{onLogin:function(){},doLogin:function(){this.login_error=null,this.app.doLogin(this.email,this.pass).then(e=>{this.onLogin()}).catch(e=>{console.log(e),this.login_error="Error "+(e.json&&e.json.error?e.json.error:"Login Error")})}},created:function(){this.app.checkLogin().then(e=>this.onLogin()),this.app.auto_refresh()}},us={};var yc=M(gc,vc,_c,!1,xc,null,null,null);function xc(e){for(let n in us)this[n]=us[n]}var bc=function(){return yc.exports}();class Re{constructor(){this.routes=[],this.counter=0,this.default_route=null,this.from=Re.FROM_HASH,this.current={cmp:null},this.onRoute=null,typeof window!="undefined"&&window.addEventListener("popstate",n=>{this.onPopState(n)})}init(){this.open(null,null,{no_push:!0})}onPopState(n){this.open(null,null,{no_push:!0})}open(n,t,i){i||(i={}),n&&this.from==Re.FROM_HASH&&!n.startsWith("#!")&&(n="#!"+n);let s=this.get_route(n,t);return!s||this.current.unload&&!this.current.unload()?!1:(this.current={route:s.route,cmp:s.route.opts.cmp,args:s.args,opts:i},this.counter+=1,this.onRoute&&this.onRoute(this.current),i.no_push||window.history.pushState({},"",n),this.current)}get_route(n,t){if(n)n.startsWith("#!")&&(n=n.substring(2));else if(this.from==Re.FROM_HASH){n=document.location.hash.substring(2);let s=n.indexOf("?"),r=null;s&&(r=n.substring(s+1),n=n.replace(/\?.*/,"")),new URLSearchParams(r)}else n=document.location.pathname,document.location.search;let i=n.split("/").filter(s=>s);for(let s of this.routes)if(s.parts.length==i.length){let r=!0,a={};for(let o in i){let l=s.parts[o];if(l.startsWith(":"))a[l.substring(1)]=i[o];else if(l!=i[o]){r=!1;break}}if(r)return{route:s,cmp:s.opts.cmp,args:a}}return null}add(n,t){t||(t={});let i={path:n,parts:n.split("/").filter(s=>s),opts:t};this.routes.push(i),t.default&&(this.default_route=i)}}Re.FROM_LOCATION=1;Re.FROM_HASH=2;class wc{constructor(n){n||(n={}),this.items={},this.max=n.max,this.opts=n}add_all(n,t){for(let i of n)this.add(i[t],i)}add(n,t){this.items[n]=t}lookup(n){return this.opts.lookup?this.opts.lookup(n):Promise.reject({error:"No lookup function"})}get(n){return new Promise((t,i)=>{if(this.items[n]){t(this.items[n]);return}else this.lookup(n).then(s=>{this.add(n,s),t(s)}).catch(s=>{i(s)})})}}class kc{constructor(n){this.ready=new Promise((t,i)=>{this.ready_res=t}),this.user={logged_in:!1},this.store_prefix="app_",this.page=null,this.api=null,this.cache=wc,this.router=new Re,this.mobile=!1,n&&n.init&&n.init(this,n.init.vue),window.addEventListener("resize",this.onResize.bind(this)),this.router.init(),this.checkLogin(),this.onResize(),this.ready_res()}onResize(){this.mobile=window.matchMedia("(max-width: 767px)").matches}open(n){return this.router.open(n)}save_local(n,t){return localStorage.setItem(this.store_prefix+n,t),t}rm_local(n){localStorage.removeItem(this.store_prefix+n)}load_local(n,t){return localStorage.getItem(this.store_prefix+n)||t}openPage(n,t){this.page={cmp:n,opts:t||{}}}closePage(){this.page=null}auto_refresh(n){if(n||(n={}),this.refresh_timer)return!1;this.refresh_timer=setInterval(()=>{this.user.logged_in&&this.checkLogin({renew:!0})},(n.minutes||10)*60*1e3)}logout(){console.log("Logging out"),this.rm_local("auth"),this.user={logged_in:!1},this.page=null}setAuthToken(n){return n?(this.api._include.auth=n,this.save_local("auth",n),!0):!1}checkLogin(n){return this.no_login?(this.user={logged_in:!0,alias:"Admin"},Promise.resolve(this.user)):this.api?(n=n||{},this.api._include.auth=this.load_local("auth"),this.api.User.status(n.renew).then(t=>{this.user=t,n.renew&&this.setAuthToken(t.data.token)})):Promise.reject({error:"No api"})}doLogin(n,t){return this.api.User.login(n,t).then(i=>(this.user=i,this.setAuthToken(i.data.token),this.onLogin(),i))}onLogin(){console.log("Login",this.user)}list_jobs(){this.jobs=[]}}var Cc=function(){var e=this,n=e.$createElement,t=e._self._c||n;return e.app?t("Main",{attrs:{app:e.app}}):e._e()},$c=[];const Sc={props:["AppInit"],components:{Main:bc},data(){return{app:null}},created(){console.log("AppInit",this.AppInit);let e=new kc(this.AppInit);e.ready.then(()=>{this.app=e}),window.app=e}},fs={};var Tc=M(Sc,Cc,$c,!1,Oc,null,null,null);function Oc(e){for(let n in fs)this[n]=fs[n]}var Ec=function(){return Tc.exports}();function Ac(e){let n=[];return e.split(`
`).forEach(t=>{let i;(i=/^((\d+\.?)|(-)|(\*)) ?(.*)/.exec(t))&&n.push(i[5])}),n}class ye{constructor(n,t){t||(t={}),this.ai_chat_job=!0,this.api_base=t.api_base||n.api_base||"",this.api_key=t.api_key||n.api_key,this.api_model=t.api_model||n.api_model||"gpt-3.5-turbo",this.opts=t,this.stream="",this.response="",this.running=!1,this.messages=[],this.state=0,this.app=n,this.response="",this.promise=new Promise((i,s)=>{this.promise_res=i,this.promise_rej=s})}add_message(n,t){this.messages.push({role:t||"user",content:n})}run(){let n=this.promise;this.state=1;let t={"content-type":"application/json"};return this.api_key&&(t.authorization="Bearer "+this.api_key),new this.app.stream.LineStream(this.api_base+"/v1/chat/completions",{method:"POST",body:JSON.stringify({model:this.api_model,stream:!0,messages:this.messages}),headers:new Headers(t)}).run(s=>{let r;try{let a=/^data: (.*)\r?$/.exec(s);a?a[1]=="[DONE]"?r={choices:[{delta:{content:""}}]}:r=JSON.parse(a[1]):s.startsWith(": ping")||s.trim()==""?r={choices:[{delta:{content:""}}]}:r={choices:[{delta:{content:`
?? `+s+`
`}}]}}catch{r={choices:[{delta:{content:`
Error on: `+s+`
`}}]}}this.response+=r.choices[0].delta.content||""},()=>{this.running=!1,this.state=2,this.promise_res(!0)}).catch(s=>{this.running=!1,this.state=3,this.error=s,this.promise_rej(s)}),n}}A(ye,"QUEUED",0),A(ye,"RUNNING",1),A(ye,"COMPLETED",2),A(ye,"ERROR",3);var Pc=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"mb-0",style:{paddingLeft:e.lvl*10+"px"}},[t("div",{staticClass:"flex-x mt-1 mb-2 pl-1"},[t("div",{staticStyle:{"white-space":"pre-wrap"}},[e._v(" "+e._s(e.item.entry.text)+" ")]),t("div",{staticClass:"flex-grow"}),t("button",{staticClass:"btn btn-sm ml-2",on:{click:function(i){return e.onFillTodo(e.todo)}}},[e._v("Break it Down")]),t("button",{staticClass:"btn btn-sm ml-2",on:{click:function(i){return e.onCompleteTodo(e.todo)}}},[e._v("Complete")]),t("button",{staticClass:"btn btn-sm ml-2",on:{click:function(i){return e.$emit("delete")}}},[e._v("Delete")])]),e._l(e.children,function(i,s){return t("todo-entry",{key:i.id,attrs:{app:e.app,item:i,level:(e.level||0)+1},on:{delete:function(r){return e.onDelete(i,s)}}})})],2)},Ic=[];const Rc={name:"TodoEntry",props:["app","item","level"],components:{},data(){return{lvl:this.level||0,children:this.item.children}},methods:{onCompleteTodo:function(){let e="",n=this.item.parent;for(;n;)e="- "+n.entry.text+" ",n=n.parent;let t=new ye(this.app);t.add_message(`Let's finish this to do task for the user.

Write the result of the To Do Task below so the user can mark this task as completed.`,"system"),t.add_message((e.length?"To Do Category: "+e+`
`:"")+`To Do Task:
`+this.item.entry.text);let i=this.app.ai_queue.add_job(t.run.bind(t),{priority:5});this.app.ai_log.push({job:i,request:t}),i.promise.then(s=>{s=t.response,this.app.db.store.create({type:"todo",text:s,pid:this.item.id,meta:{}}).then(r=>{this.item.add(r)})})},onFillTodo:function(){let e="",n=this.item.parent;for(;n;)e="- "+n.entry.text+" ",n=n.parent;let t=new ye(this.app);t.add_message(`Let's help the user break down this to do task.Make a bullet list of up to 5 tasks to complete the item below.

Keep each entry short. One sentence at most, and short, like: 'Go to grocery store.' or 'Write a short document.'`,"system"),t.add_message((e.length?"To Do Category: "+e+`
`:"")+`To Do Task:
`+this.item.entry.text);let i=this.app.ai_queue.add_job(t.run.bind(t),{priority:5});this.app.ai_log.push({job:i,request:t}),i.promise.then(s=>{s=t.response,Ac(s).forEach(a=>{this.app.db.store.create({type:"todo",text:a,pid:this.item.id,meta:{}}).then(o=>{console.log("Created",o),this.item.add(o)})})})},delete_entries:function(e){for(let n of e)console.log("Delete",n.entry.text),this.delete_entries(n.children),n.entry.destroy()},onDelete:function(e,n){this.children.splice(n,1),this.delete_entries(e.children),e.entry.destroy()}},beforeUnmount:function(){},created:function(){}},ps={};var Nc=M(Rc,Pc,Ic,!1,Dc,null,null,null);function Dc(e){for(let n in ps)this[n]=ps[n]}var Mc=function(){return Nc.exports}(),Lc=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"flex-x"},[e.editing?e._e():t("div",{staticClass:"clickable flex-grow",on:{click:function(i){return e.$emit("edit")}}},[e._v(" "+e._s(e.value)+" ")]),e.editing?t("input",{directives:[{name:"model",rawName:"v-model",value:e.cur_val,expression:"cur_val"}],ref:"editor",staticClass:"flex-grow",class:e.ctl_class,domProps:{value:e.cur_val},on:{keypress:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.onSave.apply(null,arguments)},keydown:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"esc",27,i.key,["Esc","Escape"])?null:e.$emit("cancel")},input:function(i){i.target.composing||(e.cur_val=i.target.value)}}}):e._e()])},zc=[];const jc={props:["value","editing","ctl_class"],data:function(){return{cur_val:this.value}},watch:{editing:function(e,n){this.$nextTick(()=>{this.$refs.editor&&this.$refs.editor.focus()})}},methods:{onSave:function(){this.$emit("save",this.cur_val),this.$emit("cancel")}},created:function(){},mounted:function(){}},hs={};var Fc=M(jc,Lc,zc,!1,Hc,null,null,null);function Hc(e){for(let n in hs)this[n]=hs[n]}var Uc=function(){return Fc.exports}(),Bc=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"mx-0 mb-2 flex-x flex-grow flex-stretch pt-2"},[t("div",{staticClass:"flex-grow flex-y xmr-2",staticStyle:{"overflow-y":"auto"}},[t("div",{staticClass:"flex-x px-3 mx-2"},[t("div",{staticClass:"flex-grow p-rel flex-x"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.new_todo,expression:"new_todo"}],staticClass:"form-control flex-grow",attrs:{type:"text",name:"todo",placeholder:"New to do entry"},domProps:{value:e.new_todo},on:{keypress:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.addToDo()},input:function(i){i.target.composing||(e.new_todo=i.target.value)}}})]),t("div",{staticClass:"ml-1"},[t("button",{staticClass:"btn",on:{click:function(i){return e.addToDo()}}},[e._v("Add")])])]),e.todo_list?t("div",{staticClass:"flex-scroll-y"},[t("div",{staticClass:"mx-2 p-3"},e._l(e.app.todo_list,function(i,s){return t("div",{key:i.id,staticClass:"card flex-x mb-2"},[e._e(),t("InlineEditor",{staticClass:"flex-grow flex-x",attrs:{value:i.name,editing:e.edit_id==i.id,ctl_class:"form-control flex-grow"},on:{cancel:function(r){e.edit_id=null},edit:function(r){e.edit_id=i.id},save:function(r){return e.onUpdateEntry(i,r)}}}),e._e(),i.ai_created?t("svg-icon",{staticClass:"mr-2 muted",attrs:{name:"assistant",size:"12"}}):e._e(),e._e(),t("button",{staticClass:"btn btn-sm btn-plain",on:{click:function(r){return e.onDelete(i,s)}}},[t("svg-icon",{attrs:{name:"trash"}})],1)],1)}),0)]):e._e()])])},qc=[];const Wc={props:["app","item","level"],components:{TodoEntry:Mc,InlineEditor:Uc},data(){return{todo_list:this.app.todo_list,new_todo:"",edit_id:null}},methods:{addToDo:function(){this.app.api.send("/store/create",{data_type:"todo",name:this.new_todo}).then(e=>{this.app.todo_list.unshift(e),this.new_todo=""})},onUpdateEntry:function(e,n){this.app.api.send("/store/update",{id:e.id,name:n}).then(t=>{e.name=t.name})},delete_entries:function(e){for(let n of e)console.log("Delete",n.entry.text),this.delete_entries(n.children),n.entry.destroy()},onDelete:function(e,n){this.todo_list.roots.splice(n,1),this.delete_entries(e.children),e.entry.destroy()},onDelete:function(e,n){this.app.api.send("/store/delete",{id:e.id}).then(t=>{this.app.todo_list.splice(n,1)})}},beforeUnmount:function(){},created:function(){}},ds={};var Jc=M(Wc,Bc,qc,!1,Zc,null,null,null);function Zc(e){for(let n in ds)this[n]=ds[n]}var ms=function(){return Jc.exports}(),Gc=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"p-2 pt-0 flex-grow flex-y"},[e.opts.info?t("p",[e._v(e._s(e.opts.info))]):e._e(),t("div",{staticClass:"flex-x flex-grow flex-stretch",staticStyle:{"overflow-y":"auto"}},[e.multiline?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],ref:"content",staticClass:"form-control flex-grow",attrs:{rows:e.opts.rows||10},domProps:{value:e.content},on:{input:function(i){i.target.composing||(e.content=i.target.value)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.content,expression:"content"}],ref:"content",staticClass:"form-control flex-grow",attrs:{type:"text"},domProps:{value:e.content},on:{keypress:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.onSave.apply(null,arguments)},input:function(i){i.target.composing||(e.content=i.target.value)}}})]),t("div",{staticClass:"mt-2 flex-x"},[t("div",{staticClass:"flex-grow"}),t("button",{staticClass:"btn btn-plain",on:{click:function(i){return e.$emit("close")}}},[e._v("Cancel")]),e.opts.hide_save?e._e():t("button",{staticClass:"btn btn-pri ml-2",on:{click:e.onSave}},[e._v("Save")])])])},Kc=[];const Xc={props:["app","opts"],components:{},data(){return{content:this.opts.content,multiline:this.opts.multiline}},methods:{onSave:function(){this.opts.onSave(this.content),this.$emit("close")}},beforeUnmount:function(){},mounted:function(){this.$nextTick(()=>{this.$refs.content.focus()})},created:function(){}},vs={};var Yc=M(Xc,Gc,Kc,!1,Qc,null,null,null);function Qc(e){for(let n in vs)this[n]=vs[n]}var be=function(){return Yc.exports}(),Vc=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"p-2"},[t("p",[e._v(e._s(e.opts.message||"Confirm action."))]),t("div",{staticClass:"flex-x"},[t("div",{staticClass:"flex-grow"}),t("button",{staticClass:"btn mr-3",on:{click:function(i){return e.$emit("close")}}},[e._v(e._s(e.opts.negative||"Cancel"))]),t("button",{staticClass:"btn btn-pri",on:{click:e.onConfirm}},[e._v(e._s(e.opts.confirm||"Yes"))])])])},eu=[];const tu={props:["app","opts"],components:{},data(){return{}},methods:{onConfirm:function(){this.opts.onConfirm(),this.$emit("close")}}},_s={};var nu=M(tu,Vc,eu,!1,iu,null,null,null);function iu(e){for(let n in _s)this[n]=_s[n]}var Yt=function(){return nu.exports}(),su=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"mb-2 flex-x flex-grow flex-stretch pt-2"},[t("div",{staticClass:"flex-grow flex-y",staticStyle:{"overflow-y":"auto"}},[t("div",{staticClass:"flex-x px-3 mx-2"},[t("div",{staticClass:"flex-grow p-rel flex-x"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.new_doc,expression:"new_doc"}],staticClass:"form-control flex-grow",attrs:{placeholder:"Enter a title to create a new doc, or a URL to convert a web page."},domProps:{value:e.new_doc},on:{keypress:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.addDoc()},input:function(i){i.target.composing||(e.new_doc=i.target.value)}}})]),t("div",{staticClass:"ml-1"},[t("button",{staticClass:"btn",on:{click:function(i){return e.addDoc()}}},[e._v("Add")])])]),e.processing!==!1?t("div",{staticClass:"mx-3"},[t("svg-icon",{staticClass:"rotate mr-3",attrs:{name:"loader",size:"16"}}),t("span",[e._v(e._s(e.processing))])],1):e._e(),t("div",{staticClass:"muted clickable p-2 text-center mx-3 my-2 text-sm",staticStyle:{border:"2px dashed var(--accent-color)"},on:{drop:e.onDropFile,dragover:function(i){return i.preventDefault()},click:function(i){return e.$refs.files.click()}}},[t("input",{ref:"files",staticStyle:{display:"none"},attrs:{multiple:"true",type:"file"},on:{input:e.onSelectFile}}),e._v(" Drag files or click to upload. ")]),e.app.doc_list?t("div",{staticClass:"flex-scroll-y"},[t("div",{staticClass:"mx-2 p-2"},e._l(e.app.doc_list,function(i,s){return t("div",{key:i.id,staticClass:"card round-lg mx-2 mb-3",staticStyle:{display:"inline-block","vertical-align":"top"}},[t("div",{staticClass:"clickable text-sm",staticStyle:{width:"125px",height:"75px",overflow:"hidden","word-break":"break-word"},on:{click:function(r){return e.onShowDoc(i)}}},[e._v(" "+e._s(i.name)+" ")]),t("div",{staticClass:"mt-2 flex-x"},[i.ai_created?t("svg-icon",{staticClass:"muted",attrs:{title:"Created by your assistant.",name:"assistant",size:"12"}}):e._e(),t("div",{staticClass:"flex-grow"}),t("button",{staticClass:"btn btn-sm btn-plain",on:{click:function(r){return e.onEdit(i)}}},[t("svg-icon",{attrs:{name:"edit",size:"12"}})],1),t("button",{staticClass:"btn btn-sm btn-plain",on:{click:function(r){return e.onDelete(i,s)}}},[t("svg-icon",{attrs:{name:"trash",size:"12"}})],1)],1)])}),0)]):e._e()])])},ru=[];const au={props:["app","item","level"],components:{ModalConfirm:Yt},data(){return{new_doc:"",processing:!1}},methods:{create_doc:function(e,n){this.processing="Saving doc: "+e,this.app.api.send("/store/create",{data_type:"doc",name:e,content:n}).then(t=>{this.app.doc_list.unshift(t),this.new_doc="",n||this.onEdit(t)}).finally(()=>{this.processing=!1})},addDoc:function(){if(this.new_doc,/^https?:\/\//.exec(this.new_doc)){this.processing="Downloading/Converting "+this.new_doc,this.app.api.send("/tools/url_to_md",{url:this.new_doc}).then(e=>{e.title||(e.title=e.content.split(`
`)[0].slice(0,45)),this.create_doc(e.title,e.content)}).finally(()=>{this.processing=!1});return}this.create_doc(this.new_doc,"")},performDelete:function(e,n){this.app.api.send("/store/delete",{id:e.id}).then(t=>{this.app.doc_list.splice(n,1)})},onDelete:function(e,n){this.app.open_modal({title:"Delete Doc?",cmp:Yt,message:"Are you sure you want to delete the document "+e.name+"?",onConfirm:()=>{this.performDelete(e,n)}})},onEdit:function(e){this.app.api.send("/store/list",{id:e.id}).then(n=>{n=n[0],n&&this.app.open_modal({title:e.name,cmp:be,content:n.content,multiline:!0,style:{width:"85%",height:"85vh"},onSave:t=>{this.app.api.send("/store/update",{id:e.id,content:t}).then(i=>{e.content=t})}})})},onShowDoc:function(e){console.log(e,e.id),this.app.open_entry_id(e.id)},uploadFile:function(e){this.app.api.upload("/store/upload",{file:e},{no_ct:!0}).then(n=>{this.app.doc_list.unshift(n)})},onDropFile:function(e){e.preventDefault();let n=[];for(let t of e.dataTransfer.items){let i=t.getAsFile();console.log("File",i),n.push(this.uploadFile(i))}this.processing="Uploading "+n.length+" files...",Promise.allSettled(n).finally(()=>{this.processing=!1})},onSelectFile:function(e){let n=[];for(let t of this.$refs.files.files)n.push(this.uploadFile(t));this.$refs.files.multiline="",this.processing="Uploading "+n.length+" files...",Promise.allSettled(n).finally(()=>{this.processing=!1})}},beforeUnmount:function(){},created:function(){}},gs={};var ou=M(au,su,ru,!1,lu,null,null,null);function lu(e){for(let n in gs)this[n]=gs[n]}var cu=function(){return ou.exports}(),uu=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"mb-3",style:{paddingLeft:e.lvl*20+"px"}},[t("div",{staticClass:"flex-x mt-1 pl-1"},[t("div",{staticClass:"flex-grow"},[t("div",{staticClass:"clickable text-lg mb-1",on:{click:e.onEditLog}},[t("strong",[e._v("\u2022 Prompt: "+e._s(e.entry.prompt.log))])]),t("div",[e._m(0),e._l(e.entry.conditions,function(i){return t("div",{staticClass:"ml-2 my-1"},[e._e(),e._v(" If "),t("input",{directives:[{name:"model",rawName:"v-model",value:i.name,expression:"cond.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:i.name},on:{input:function(s){s.target.composing||e.$set(i,"name",s.target.value)}}}),t("select",{directives:[{name:"model",rawName:"v-model",value:i.op,expression:"cond.op"}],staticClass:"form-control mx-2",on:{change:function(s){var r=Array.prototype.filter.call(s.target.options,function(a){return a.selected}).map(function(a){var o="_value"in a?a._value:a.value;return o});e.$set(i,"op",s.target.multiple?r:r[0])}}},[t("option",{attrs:{value:"=="}},[e._v("Is Equal To")]),t("option",{attrs:{value:"!="}},[e._v("Is Not Equal To")]),t("option",{attrs:{value:"include"}},[e._v("Includes")]),t("option",{attrs:{value:"exclude"}},[e._v("Does Not Include")])]),t("input",{directives:[{name:"model",rawName:"v-model",value:i.value,expression:"cond.value"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:i.value},on:{input:function(s){s.target.composing||e.$set(i,"value",s.target.value)}}})])}),t("button",{staticClass:"ml-2 btn btn-sm",on:{click:e.onAddCond}},[e._v("Add Condition")])],2),t("div",{staticClass:"mt-1"},[t("span",[e._v("Inputs:")]),t("div",{staticClass:"ml-2"},[e._v(e._s(e.entry.fields))])]),t("div",{staticClass:"mt-1"},[e._m(1),e._l(e.entry.prompt.prompt_entry.outputs,function(i){return t("div",{staticClass:"ml-2"},[e.app.debug?t("span",[e._v(e._s(i))]):e._e(),t("div",[e._v(" Name: "),t("input",{directives:[{name:"model",rawName:"v-model",value:i.name,expression:"out.name"}],staticClass:"form-control",domProps:{value:i.name},on:{input:function(s){s.target.composing||e.$set(i,"name",s.target.value)}}}),e._v(" Parser: "),t("select",{directives:[{name:"model",rawName:"v-model",value:i.parser,expression:"out.parser"}],staticClass:"form-control",on:{change:function(s){var r=Array.prototype.filter.call(s.target.options,function(a){return a.selected}).map(function(a){var o="_value"in a?a._value:a.value;return o});e.$set(i,"parser",s.target.multiple?r:r[0])}}},[t("option",{attrs:{value:"full_response"}},[e._v("Full Response")]),t("option",{attrs:{value:"from_line"}},[e._v("Match Line Start")])]),i.parser=="from_line"?t("span",[e._v(" Line Match (all lowercase): "),t("input",{directives:[{name:"model",rawName:"v-model",value:i.parser_ex,expression:"out.parser_ex"}],staticClass:"form-control",domProps:{value:i.parser_ex},on:{input:function(s){s.target.composing||e.$set(i,"parser_ex",s.target.value)}}})]):e._e(),e._v(" Event: "),t("input",{directives:[{name:"model",rawName:"v-model",value:i.event,expression:"out.event"}],staticClass:"form-control",domProps:{value:i.event},on:{input:function(s){s.target.composing||e.$set(i,"event",s.target.value)}}})])])})],2),t("div",{staticClass:"mt-1"},[e._v("Prompt")]),t("div",{staticClass:"my-1 clickable bg-sec round-lg xborder p-1 text-sm",staticStyle:{"xwhite-space":"pre-wrap","max-height":"6.5em",overflow:"hidden"},on:{click:e.onEditPrompt}},[e._v(e._s(e.entry.prompt.prompt_entry.prompt))])])]),e._l(e.entry.entry_points,function(i,s){return t("prompt-entry",{key:i.id,attrs:{chain:e.chain,app:e.app,entry:i,level:e.lvl+1}})}),t("button",{staticClass:"btn",on:{click:e.onAddChild}},[e._v("Add Child to: "+e._s(e.entry.prompt.log))])],2)},fu=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("span",[e._v("Conditions:")])])},function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("span",[e._v("Outputs:")])])}];const pu={name:"PromptEntry",props:["app","entry","level","chain"],components:{},data(){return{lvl:this.level||0}},methods:{onEditLog:function(){this.app.open_modal({title:"Edit Title",content:this.entry.prompt.log,cmp:be,onSave:e=>{this.entry.prompt.log=e}})},onEditPrompt:function(){this.app.open_modal({title:"Edit Prompt",content:this.entry.prompt.prompt_entry.prompt,cmp:be,multiline:!0,onSave:e=>{this.entry.prompt.prompt_entry.prompt=e}})},onAddChild:function(){this.app.open_modal({title:"Add Child",content:"Title",cmp:be,onSave:e=>{console.log(e);let n=this.chain.register({log:e,inputs:["message"],outputs:[{name:"result",store_response:!0}],prompt:`You are a helpful assistant.

Message:
\`\`\`
{{message}}
\`\`\`

(Tell it what to do)`});this.entry.entrypoint(n.id,{map:{message:"message"}})}})},onAddCond:function(){this.entry.conditions.push({op:"==",name:"msg_category",value:"personal"})}},beforeUnmount:function(){},created:function(){}},ys={};var hu=M(pu,uu,fu,!1,du,null,null,null);function du(e){for(let n in ys)this[n]=ys[n]}var mu=function(){return hu.exports}(),vu=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"card mx-2 mb-2 flex-x flex-grow flex-stretch bg-sec pt-2"},[t("div",{staticClass:"flex-grow flex-y mr-2",staticStyle:{"overflow-y":"auto"}},[t("div",{staticClass:"flex-scroll-y pr-1"},[t("div",{staticClass:"bg-sec p-2"},[t("h4",{staticClass:"my-1"},[e._v("Prompt Test")]),t("small",[e._v("System")]),t("div",{staticClass:"bg-sec flex-x mb-1"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.prompt_test_sys,expression:"prompt_test_sys"}],staticClass:"form-control flex-grow mb-2",attrs:{rows:"5"},domProps:{value:e.prompt_test_sys},on:{input:function(i){i.target.composing||(e.prompt_test_sys=i.target.value)}}})]),t("small",[e._v("User")]),t("div",{staticClass:"bg-sec flex-x mb-2"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.prompt_test,expression:"prompt_test"}],staticClass:"form-control flex-grow",attrs:{rows:"5"},domProps:{value:e.prompt_test},on:{input:function(i){i.target.composing||(e.prompt_test=i.target.value)}}})]),t("button",{staticClass:"btn btn-pri",on:{click:e.onTestPrompt}},[e._v("Send")])]),t("div",{staticClass:"bg-sec p-2"},[t("h4",{staticClass:"my-1"},[e._v("Chain Import")]),t("div",{staticClass:"bg-sec flex-x mb-2"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.chain_data,expression:"chain_data"}],staticClass:"form-control flex-grow",attrs:{rows:"5"},domProps:{value:e.chain_data},on:{input:function(i){i.target.composing||(e.chain_data=i.target.value)}}})]),t("div",{staticClass:"bg-sec flex-x mb-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.chain_name,expression:"chain_name"}],staticClass:"form-control flex-grow",domProps:{value:e.chain_name},on:{input:function(i){i.target.composing||(e.chain_name=i.target.value)}}})]),t("button",{staticClass:"btn btn-pri",on:{click:e.onLoadChain}},[e._v("Load Chain")])]),t("div",{staticClass:"flex-x"},[t("div",{staticClass:"flex-grow"}),t("div",[t("button",{staticClass:"btn btn-pri",on:{click:e.onCreateChain}},[e._v("Create Chain")])])]),t("div",{staticClass:"mx-2 p-3 round-sm"},e._l(e.chains,function(i){return t("div",[t("div",{staticClass:"flex-x"},[t("h3",{staticClass:"mt-2 mb-1"},[e._v("Chain: "+e._s(i.title))]),t("div",{staticClass:"flex-grow"}),t("div",[t("button",{staticClass:"btn",on:{click:function(s){return e.onExportChain(i)}}},[e._v("Export")])])]),e._l(i.entry_points,function(s){return t("div",[t("PromptEntry",{attrs:{app:e.app,entry:s,level:1,chain:i}})],1)})],2)}),0)])])])},_u=[];const gu={props:["app","item","level"],components:{PromptEntry:mu},data(){return{chains:this.app.chains,prompt_test_sys:"",prompt_test:"",new_todo:"",chain_data:"",chain_name:""}},methods:{onTestPrompt:function(){let e=this.prompt_test,n=new ye(this.app,{summary:"Running test prompt..."});this.prompt_test_sys&&n.add_message(this.prompt_test_sys,"system"),n.add_message(e);let t=this.app.ai_queue.add_job(n.run.bind(n),{priority:5});this.app.ai_log.push({job:t,request:n}),console.log(n)},onLoadChain:function(){this.app.add_chain(this.chain_name,JSON.parse(this.chain_data))},onExportChain:function(e){let n=e.export_chain();this.app.open_modal({title:"Prompt Export",content:JSON.stringify(n),multiline:!0,cmp:be,hide_save:!0,onSave:t=>{}})},onCreateChain:function(){this.app.open_modal({title:"Create Chain",content:"Title",cmp:be,onSave:e=>{console.log(e);let n=new this.app.chainer(this.app,{title:e}),t=n.register({log:"Start chain "+e,inputs:["message"],outputs:[{name:"result",store_response:!0}],prompt:`You are a helpful assistant.

Message:
\`\`\`
{{message}}
\`\`\`

(Tell it what to do)`});n.entrypoint(t.id,{map:{message:"message"}}),this.app.add_chain(e,n.export_chain())}})}},beforeUnmount:function(){},created:function(){}},xs={};var yu=M(gu,vu,_u,!1,xu,null,null,null);function xu(e){for(let n in xs)this[n]=xs[n]}var bu=function(){return yu.exports}();function wu(e,n){let t={},i;return e==""?{empty:!0,text:""}:((i=/^data: (.*)$/.exec(e))?n?t.json=JSON.parse(i[1]):t.text=i[1]:(t.error="No data header",t.line=e),t)}class Nr{constructor(n,t,i){i||(i={}),this.path=n,this.req=t,this.current="",this.on_line=null,this.on_done=null,this.opts=i}parse_lines(n,t){let i=n.indexOf(`
`),s=0;for(;;){if(s+=1,s>20)return;if(i==-1){this.current+=n;break}else this.current+=n.substring(0,i),this.on_line(this.opts.json?JSON.parse(this.current):this.current),this.current="",n=n.substring(i+1),i=n.indexOf(`
`)}t&&this.current&&(this.on_line(this.opts.json?JSON.parse(this.current):this.current),this.current="")}run(n,t){this.on_line=n,this.on_done=t;let i=fetch(this.path,this.req);return i.catch(s=>{console.log("Fetch error",s),this.on_done&&this.on_done(s)}),i.then(s=>{let r=s.body.getReader(),a=new TextDecoder("utf-8"),o=()=>{r.read().then(l=>{if(l.done){this.parse_lines(l.value||"",!0),this.on_done&&this.on_done();return}this.parse_lines(a.decode(l.value)),o()}).catch(l=>{console.log("Reader error",l),this.on_done&&this.on_done(l)})};o()}),i}}var ku=Object.freeze(Object.defineProperty({__proto__:null,DataParser:wu,LineStream:Nr},Symbol.toStringTag,{value:"Module"}));class Cu{constructor(n,t){this.api_base=n,this.api_key=t}req_gen(n,t,i,s,r){r||(r={}),s||(s={});let a={};return r.no_ct||(a["content-type"]=r.contentType||"application/json"),this.api_key&&(a.authorization="Bearer "+this.api_key),{url:this.api_base+n,req:{method:i||"POST",body:JSON.stringify(t),headers:new Headers(a),...s}}}store_list(n){n||(n={});let t={};for(let i of["data_type","root_id","parent_type","parent_id","id","_exclude"])n[i]&&(t[i]=n[i]);return this.send("/store/list",t)}send(n,t,i){i||(i={});let s=this.req_gen(n,t,i.method,i.request);return fetch(s.url,s.req).then(r=>r.json())}upload(n,t,i){i||(i={});let s=new FormData;for(let a in t)s.append(a,t[a]);let r=this.req_gen(n,{},i.method,i.request,i);return r.req.body=s,fetch(r.url,r.req).then(a=>a.json())}completion(n,t,i){i||(i={});let s=this.req_gen("/v1/chat/completions",{messages:n,model:t,...i});return new Su(s.url,s.req)}}class sn{constructor(n){this.response="",this.state=[],this.status="",this.entries=[],this.evt_handler=n}as_metadata(){return{entries:this.entries}}event(n){this.evt_handler&&this.evt_handler(n)}handle_assistant(n){n.event=="new_entry"?(this.entries.push(n.data),this.event({name:"new_entry",content:n.data})):n.event=="status"?(this.status=n.data.value,this.event({name:"status",content:this.status})):n.event=="state"?(this.state[n.data.level]=n.data.msg,this.event({name:"state",content:this.state})):n.event&&this.event({name:n.event,content:n.data})}add(n){n.fn&&n.fn.name=="assistant"&&this.handle_assistant(n.fn.arguments),n.content&&(this.response+=n.content,this.event({name:"content",content:n.content}))}}function $u(e){var i,s,r;let n={parsed:null,content:null,fn:null,line:e,error:null};try{let a=/^data: (.*)\r?$/.exec(e);a?a[1]!="[DONE]"&&(n.parsed=JSON.parse(a[1])):e.startsWith(": ping")||e.trim()==""||(n={choices:[{delta:{content:`
?? `+e+`
`}}]})}catch{n.error=!0}let t=((r=(s=(i=n.parsed)==null?void 0:i.choices)==null?void 0:s[0])==null?void 0:r.delta)||{};return n.content=t.content,n.fn=t.function_call,n}class Su{constructor(n,t){this.url=n,this.params=t,this.promise=new Promise((i,s)=>{this.promise_res=i,this.promise_rej=s})}on_line(n){let t=$u(n);this.handle_line(t)}on_done(n){n?this.promise_rej(n):this.promise_res(n)}run(n){return this.handle_line=n,this.stream=new Nr(this.url,this.params),this.stream.run(this.on_line.bind(this),this.on_done.bind(this)),this.promise}}const Tu={system:"You are a friendly, concise assistant.",temperature:.2,chat_history:5},li=JSON.stringify({view:"reg",events:[],error:null});JSON.stringify({events:[],error:null});function Ge(e,n){let t={};n||(n=Tu),e||(e={});for(let i in n)e[i]==null?t[i]=n[i]:t[i]=e[i];return t}var Ou=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"flex-x my-3"},[t("div",{staticClass:"card flex-grow px-3",class:e.metadata.view=="sm"?"text-xs":""},[e.is_new?e._e():t("div",{staticClass:"flex-x mb-2"},[e.running?t("svg-icon",{staticClass:"rotate",attrs:{name:"loader",size:"16"}}):e._e(),e.running?e._e():t("button",{staticClass:"btn-plain muted mr-2 btn flex-x flex-ctr",on:{click:e.sendMessage}},[t("svg-icon",{staticClass:"mr-2",attrs:{name:"play"}}),e._v(" Replay ")],1),t("div",{staticClass:"flex-grow"}),e.running?e._e():t("button",{staticClass:"btn btn-plain flex-x flex-ctr mr-2",on:{click:function(i){return e.$emit("delete")}}},[t("svg-icon",{attrs:{name:"x"}})],1),t("button",{staticClass:"btn btn-plain flex-x flex-ctr mr-2",class:e.metadata.view=="sm"?"btn-pri":"",on:{click:e.onMinimize}},[t("svg-icon",{attrs:{invert:e.metadata.view=="sm",name:"minimize-2"}})],1),e._e()],1),t("div",{staticClass:"flex-x flex-grow",staticStyle:{position:"relative"}},[t("AutoTextarea",{staticClass:"flex-grow",class:e.is_new?"text-xl":"text",attrs:{classes:"form-control flex-grow",xrows:"3",styles:"border-color: #0000; box-shadow: none;",placeholder:"Enter your chat message..."},model:{value:e.entry.name,callback:function(i){e.$set(e.entry,"name",i)},expression:"entry.name"}})],1),t("hr"),e.is_new?t("div",{staticClass:"flex-x flex-grow mt-2",staticStyle:{"text-align":"right"}},[t("button",{staticClass:"btn btn-pri text-lg",on:{click:e.onInitialSave}},[e._v("Send")]),t("button",{staticClass:"btn text-lg ml-3",on:{click:function(i){return e.$emit("delete",{skip_confirm:!0})}}},[e._v("Cancel")])]):t("div",{staticClass:"mx-2 flex-x text mt-1",staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.entry.content))])])])},Eu=[];const Au={props:["app","entry"],data(){return this.entry.name||(this.entry.name=""),this.entry.content||(this.entry.content=""),{metadata:{},is_new:!this.entry.name,running:!1}},methods:{onInitialSave:function(){this.app.api.send("/store/update",{id:this.entry.id,name:this.entry.name}).then(e=>{this.is_new=!1}),this.sendMessage()},onResponseEvent:function(e){e.name=="content"&&(this.entry.content+=e.content)},save:function(){!this.entry.id||this.app.api.send("/store/update",{id:this.entry.id,name:this.entry.name,content:this.entry.content,pinned:this.entry.pinned,metadata:JSON.stringify(this.metadata)})},sendMessage:function(){let e=[{role:"user",content:this.entry.name}],n="chat",t=this.app.api.completion(e,n,{temperature:.4}),i=new sn(this.onResponseEvent.bind(this));this.entry.content="",this.running=!0,t.run(s=>{i.add(s)}).then(s=>{this.save()}).catch(s=>{console.log("Error!",s)}).finally(()=>{console.log("Finished"),this.running=!1})},onMinimize:function(){this.metadata.view=this.metadata.view=="sm"?"reg":"sm",this.save()},onPin:function(){this.entry.pinned=!this.entry.pinned,this.save()}},beforeUnmount:function(){},created:function(){let e;try{e=JSON.parse(this.entry.metadata)}catch{}this.metadata=Ge(e,JSON.parse(li))}},bs={};var Pu=M(Au,Ou,Eu,!1,Iu,null,null,null);function Iu(e){for(let n in bs)this[n]=bs[n]}var Ru=function(){return Pu.exports}(),Nu=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"flex-x my-3"},[t("div",{staticClass:"card flex-grow",class:e.metadata.view=="sm"?"text-xs":""},[e.is_new?e._e():t("div",{staticClass:"flex-x mb-2"},[e.running?t("svg-icon",{staticClass:"rotate",attrs:{name:"loader",size:"16"}}):e._e(),e.running?e._e():t("button",{staticClass:"btn-plain muted mr-2 btn flex-x flex-ctr",on:{click:e.sendMessage}},[t("svg-icon",{staticClass:"mr-2",attrs:{name:"play"}}),e._v(" Replay ")],1),t("div",{staticClass:"flex-grow"}),e.running?e._e():t("button",{staticClass:"btn btn-plain flex-x flex-ctr mr-2",on:{click:function(i){return e.$emit("delete")}}},[t("svg-icon",{attrs:{name:"x"}})],1),t("button",{staticClass:"btn btn-plain flex-x flex-ctr mr-2",class:e.metadata.view=="sm"?"btn-pri":"",on:{click:e.onMinimize}},[t("svg-icon",{attrs:{invert:e.metadata.view=="sm",name:"minimize-2"}})],1),e._e()],1),e.is_new?t("p",[e._v(" Let your assistant search the web and handle tasks for you! ")]):e._e(),t("div",{staticClass:"flex-x flex-grow",staticStyle:{position:"relative"}},[t("AutoTextarea",{staticClass:"flex-grow",class:e.is_new?"text-xl":e.metadata.view=="sm"?"text-xs":"",attrs:{classes:"form-control flex-grow",xrows:"3",styles:"border-color: #0000; box-shadow: none;",placeholder:"Enter your assistant request..."},model:{value:e.entry.name,callback:function(i){e.$set(e.entry,"name",i)},expression:"entry.name"}})],1),e.is_new?t("div",{staticClass:"flex-x flex-grow mt-2",staticStyle:{"text-align":"right"}},[t("button",{staticClass:"btn btn-pri text-lg",on:{click:e.onInitialSave}},[e._v("Send")]),t("button",{staticClass:"btn text-lg ml-3",on:{click:function(i){return e.$emit("delete",{skip_confirm:!0})}}},[e._v("Cancel")])]):t("div",{staticClass:"mx-2 text mt-1",domProps:{innerHTML:e._s(e.app.markdown(e.entry.content))}}),e.live_response?t("div",[t("div",[t("div",[e._v("State: "+e._s(e.live_response.state))]),t("div",[e._v("Status: "+e._s(e.live_response.status))])]),e._l(e.live_response.entries,function(i){return i.data_type!="stream"?t("div",{staticClass:"clickable text-sm bg-sec mr-2",staticStyle:{display:"inline-block"},on:{click:function(s){return e.app.open_entry(i)}}},[e._v(" New "+e._s(i.data_type)+" ")]):e._e()}),t("button",{staticClass:"btn btn-sm ml-2",on:{click:function(i){return e.onShowLog(e.log)}}},[e._v("\u26F6")])],2):e._e()])])},Du=[];const Mu={props:["app","entry"],data(){return{metadata:{},is_new:!this.entry.name,running:!1,live_response:null}},methods:{onInitialSave:function(){this.app.api.send("/store/update",{id:this.entry.id,name:this.entry.name}).then(e=>{this.is_new=!1}),this.sendMessage()},onResponseEvent:function(e){e.name=="content"?this.entry.content+=e.content:(e.name="new_entry")&&this.app.add_entry(e.content)},save:function(){!this.entry.id||this.app.api.send("/store/update",{id:this.entry.id,name:this.entry.name,content:this.entry.content,pinned:this.entry.pinned,metadata:JSON.stringify(this.metadata)})},sendMessage:function(){let e=[{role:"user",content:this.entry.name}],n="assistant",t=this.app.api.completion(e,n,{temperature:.2}),i=this.live_response=new sn(this.onResponseEvent.bind(this));this.entry.content="",this.running=!0,t.run(s=>{i.add(s)}).then(s=>{this.save()}).catch(s=>{console.log("Error!",s)}).finally(()=>{console.log("Finished"),this.running=!1})},onMinimize:function(){this.metadata.view=this.metadata.view=="sm"?"reg":"sm",this.save()},onPin:function(){this.entry.pinned=!this.entry.pinned,this.save()}},beforeUnmount:function(){},created:function(){this.entry.name||(this.entry.name=""),this.entry.content||(this.entry.content="");let e;try{e=JSON.parse(this.entry.metadata)}catch{}this.metadata=Ge(e,JSON.parse(li))}},ws={};var Lu=M(Mu,Nu,Du,!1,zu,null,null,null);function zu(e){for(let n in ws)this[n]=ws[n]}var ju=function(){return Lu.exports}(),Fu=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"flex-x mt-1"},[t("div",{staticClass:"flex-x flex-grow text-center text-sm"},[t("div",{staticClass:"flex-grow text-center text-sm",staticStyle:{"line-height":"1"}},[t("span",{staticClass:"mr-2",staticStyle:{"font-weight":"300"}},[e._v("Your assistant created a new "+e._s(e.metadata.type)+":")]),t("span",{staticClass:"clickable p-1 xpx-2",on:{click:e.onOpen}},[e._v(e._s(e.entry.name))]),t("button",{staticClass:"btn btn-plain btn-sm ml-2",on:{click:function(i){return e.$emit("delete",{skip_confirm:!0})}}},[t("svg-icon",{attrs:{name:"x-light",size:14}})],1)]),t("div")])])},Hu=[];const Uu={props:["app","entry"],data(){return{metadata:{},is_new:!this.entry.content}},methods:{onOpen:function(){console.log("Open",this.metadata),this.app.open_entry_id(this.metadata.id)}},beforeUnmount:function(){},created:function(){try{this.metadata=JSON.parse(this.entry.metadata)}catch{}}},ks={};var Bu=M(Uu,Fu,Hu,!1,qu,null,null,null);function qu(e){for(let n in ks)this[n]=ks[n]}var Wu=function(){return Bu.exports}(),Ju=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"p-2 pt-0 flex-y flex-grow"},[e._e(),t("div",{staticClass:"flex-grow flex-scroll",staticStyle:{"overflow-y":"scroll"}},[e._e(),t("div",{domProps:{innerHTML:e._s(e.app.markdown(this.content))}})]),e._e()])},Zu=[];const Gu={props:["app","opts"],components:{},data(){return{content:this.opts.content}},methods:{onSave:function(){this.opts.onSave(this.content),this.$emit("close")}},beforeUnmount:function(){},mounted:function(){this.$nextTick(()=>{})},created:function(){}},Cs={};var Ku=M(Gu,Ju,Zu,!1,Xu,null,null,null);function Xu(e){for(let n in Cs)this[n]=Cs[n]}var Dr=function(){return Ku.exports}(),Yu=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"flex-x my-3"},[t("div",{staticClass:"card flex-grow px-3",class:e.metadata.small?"text-sm":""},[e.is_new?e._e():t("div",{staticClass:"flex-x mb-2"},[e.running?t("svg-icon",{staticClass:"rotate mr-2",attrs:{name:"loader",size:"16"}}):e._e(),e.running?e._e():t("button",{staticClass:"btn-plain muted mr-2 btn flex-x flex-ctr mr-2",on:{click:e.sendMessage}},[t("svg-icon",{staticClass:"mr-2",attrs:{name:"play"}}),e._v(" Replay ")],1),e.metadata.category?t("div",[t("strong",[e._v(e._s(e.metadata.category))])]):e._e(),t("div",{staticClass:"flex-grow"}),e.running?e._e():t("button",{staticClass:"btn btn-plain flex-x flex-ctr mr-2",on:{click:function(i){return e.$emit("delete")}}},[t("svg-icon",{attrs:{name:"x-light"}})],1),t("button",{staticClass:"btn btn-plain flex-x flex-ctr mr-2",on:{click:e.onMinimize}},[t("svg-icon",{attrs:{name:"minimize-2"}})],1),e._e()],1),t("div",{staticClass:"mx-2 text mt-1 mb-2"},[t("div",{staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.entry.content))]),e.metadata.replies?t("div",[t("h4",[e._v("Suggested Replies")]),t("div",{domProps:{innerHTML:e._s(e.app.markdown(e.metadata.replies))}})]):e._e(),t("div",{domProps:{innerHTML:e._s(e.app.markdown(e.metadata.bill))}})]),e.entry.content?t("div",[t("div",{staticClass:"clickable border round-lg b-1 px-1 mb-2",staticStyle:{"max-height":"140px",overflow:"hidden","border-bottom-style":"dashed"},domProps:{innerHTML:e._s(e.app.markdown(e.entry.name))},on:{click:e.onShowMessage}})]):t("div",{staticClass:"flex-x flex-grow",staticStyle:{position:"relative","font-size":"8px"}},[t("AutoTextarea",{staticClass:"flex-grow",class:e.is_new?"text-xl":"text",attrs:{classes:"form-control flex-grow",xrows:"3",styles:"border-color: #0000; box-shadow: none;",placeholder:"Paste an email or other message you'd like to save here."},on:{paste:e.onPaste},model:{value:e.entry.name,callback:function(i){e.$set(e.entry,"name",i)},expression:"entry.name"}})],1),e.is_new?t("div",{staticClass:"flex-x flex-grow mt-2",staticStyle:{"text-align":"right"}},[t("button",{staticClass:"btn btn-pri text-lg",on:{click:e.onInitialSave}},[e._v("Send")]),t("button",{staticClass:"btn text-lg ml-3",on:{click:function(i){return e.$emit("delete",{skip_confirm:!0})}}},[e._v("Cancel")])]):e._e()])])},Qu=[];const Vu={props:["app","entry"],data(){return this.entry.name||(this.entry.name=""),this.entry.content||(this.entry.content=""),{metadata:{},is_new:!this.entry.name,running:!1}},methods:{onInitialSave:function(){this.app.api.send("/store/update",{id:this.entry.id,name:this.entry.name}).then(e=>{this.is_new=!1}),this.sendMessage()},onResponseEvent:function(e){e.name=="content"?this.entry.content+=e.content:e.name=="category"?this.metadata.category=e.content:e.name=="bill"?this.metadata.bill=e.content:e.name=="suggest_replies"&&(this.metadata.replies=e.content)},save:function(){!this.entry.id||this.app.api.send("/store/update",{id:this.entry.id,name:this.entry.name,content:this.entry.content,pinned:this.entry.pinned,metadata:JSON.stringify(this.metadata)})},sendMessage:function(){let e=[{role:"user",content:this.entry.name}],n="message",t=this.app.api.completion(e,n,{temperature:.2}),i=new sn(this.onResponseEvent.bind(this));this.entry.content="",this.running=!0,t.run(s=>{i.add(s)}).then(s=>{this.app.api.send("/store/update",{id:this.entry.id,name:this.entry.name,content:this.entry.content,metadata:JSON.stringify(this.metadata)})}).catch(s=>{console.log("Error!",s)}).finally(()=>{this.running=!1,this.save()})},onMinimize:function(){this.metadata.view=this.metadata.view=="sm"?"reg":"sm",this.save()},onPin:function(){this.metadata.pinned=!this.metadata.pinned,this.save()},onPaste:function(e){let n=e.clipboardData.getData("text/html");n||(n=e.clipboardData.getData("text")),console.log(n),this.app.api.send("/tools/markdown",{content:n}).then(t=>{this.entry.name=t.content}),e.preventDefault()},onShowMessage:function(){this.app.open_modal({cmp:Dr,content:this.entry.name,style:{width:"95%",height:"90vh"},multiline:!0})}},beforeUnmount:function(){},created:function(){let e;try{e=JSON.parse(this.entry.metadata)}catch{}this.metadata=Ge(e,{category:"",replies:"",bill:"",...JSON.parse(li)})}},$s={};var ef=M(Vu,Yu,Qu,!1,tf,null,null,null);function tf(e){for(let n in $s)this[n]=$s[n]}var nf=function(){return ef.exports}(),sf=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"ml-2 mb-1 flex-x flex-grow flex-stretch pt-0"},[t("div",{staticClass:"flex-grow flex-y",staticStyle:{"overflow-y":"auto"}},[e._e(),t("div",{staticClass:"shadow text-center mt-2 xflex-x flex-center"},[t("div",{staticClass:"text-sm mb-1",staticStyle:{display:"inline-block","font-weight":"300"}},[e._v("Add to your stream...")]),t("button",{staticClass:"btn btn-plain ml-3",on:{click:function(i){return e.onCreate("assistant")}}},[e._v("Assistant Task")]),t("button",{staticClass:"btn btn-plain ml-3",on:{click:function(i){return e.onCreate("chat")}}},[e._v("Quick Chat")]),e._e(),t("button",{staticClass:"btn btn-plain ml-3",on:{click:function(i){return e.onCreate("message")}}},[e._v("Message")])]),t("div",{staticClass:"flex-scroll-y pr-1 mt-0 ml-2 pr-3"},e._l(e.app.stream_list,function(i,s){return t("entry_"+i.subtype,{key:i.id,tag:"component",attrs:{app:e.app,entry:i},on:{delete:function(r){return e.onDelete(i,s,r)}}})}),1)])])},rf=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticStyle:{"overflow-x":"auto"}},[t("div",{staticClass:"card p-1 round-sm text-sm mr-2",staticStyle:{display:"inline-block","max-width":"200px"}},[e._v(" Important Bill ")]),t("div",{staticClass:"card p-1 round-sm text-sm mr-2",staticStyle:{display:"inline-block","max-width":"200px"}},[e._v(" To Do: Blah ")])])}];const af={props:["app","item","level"],components:{entry_chat:Ru,entry_log:Wu,entry_assistant:ju,entry_message:nf},data(){return{feed:this.app.feed,prompt_test:"",new_todo:""}},methods:{onAddCont:function(){this.app.open_modal({title:"Add Content to Stream",cmp:ModalTestAdd,onAdd:e=>{this.addContent({type:e.type,content:e.content})}})},performDelete:function(e,n){this.app.api.send("/store/delete",{id:e.id}).then(t=>{this.app.stream_list.splice(n,1)})},onDelete:function(e,n,t){if(t&&t.skip_confirm){this.performDelete(e,n);return}this.app.open_modal({title:"Delete Entry?",cmp:Yt,message:"Are you sure you want to delete this stream entry?",onConfirm:()=>{this.performDelete(e,n)}})},onCreate:function(e){this.app.api.send("/store/create",{data_type:"stream",subtype:e}).then(n=>{this.app.stream_list.unshift(n)})}},beforeUnmount:function(){},created:function(){}},Ss={};var of=M(af,sf,rf,!1,lf,null,null,null);function lf(e){for(let n in Ss)this[n]=Ss[n]}var cf=function(){return of.exports}(),uf=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticStyle:{position:"absolute",left:"0",top:"0",right:"0",bottom:"0","background-color":"#0004"},on:{click:function(i){return e.app.modals.splice(0,1)}}},[t("div",{staticClass:"card flex-y flex-grow",staticStyle:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"600px","max-width":"90%"},style:e.cfg.opts.style,on:{click:function(i){i.stopPropagation()}}},[t("div",{staticClass:"flex-x xbg-sec round-lg mt-1 mb-3 pb-2"},[e.cfg.opts.title?t("h3",{staticClass:"my-0"},[e._v(e._s(e.cfg.opts.title))]):e._e(),t("div",{staticClass:"flex-grow"}),t("button",{staticClass:"btn btn-plain",on:{click:function(i){return e.app.close_modal()}}},[t("svg-icon",{attrs:{name:"x"}})],1)]),e.cfg.opts.cmp?t(e.cfg.opts.cmp,e._b({tag:"component",staticClass:"flex-y flex-grow flex-scroll-y",staticStyle:{height:"auto"},attrs:{app:e.app,opts:e.cfg.opts},on:{"hide-header":function(i){e.header=!1},close:function(i){return e.app.close_modal()}}},"component",e.cfg.opts.bind,!1)):e._e()],1)])},ff=[];const pf={props:["app","cfg"],components:{},data(){return{header:!0}},methods:{},beforeUnmount:function(){},created:function(){}},Ts={};var hf=M(pf,uf,ff,!1,df,null,null,null);function df(e){for(let n in Ts)this[n]=Ts[n]}var mf=function(){return hf.exports}(),vf=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"p-2"},[t("div",{staticClass:"flex-y mb-2"},[t("h4",{staticClass:"mt-0 mb-1"},[e._v("API Base URL:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.app.api.api_base,expression:"app.api.api_base"}],staticClass:"form-control flex-grow",attrs:{placeholder:"Should be /"},domProps:{value:e.app.api.api_base},on:{input:function(i){i.target.composing||e.$set(e.app.api,"api_base",i.target.value)}}})]),t("div",{staticClass:"flex-y mb-2"},[t("h4",{staticClass:"mt-0 mb-1"},[e._v("API Key:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.app.api.api_key,expression:"app.api.api_key"}],staticClass:"form-control flex-grow",attrs:{type:"password"},domProps:{value:e.app.api.api_key},on:{input:function(i){i.target.composing||e.$set(e.app.api,"api_key",i.target.value)}}})]),t("div",{staticClass:"flex-x"},[t("div",{staticClass:"flex-grow"}),t("button",{staticClass:"btn mr-3",on:{click:function(i){return e.$emit("close")}}},[e._v("Cancel")]),t("button",{staticClass:"btn btn-pri",on:{click:e.onSave}},[e._v("Save")])])])},_f=[];const gf={props:["app","opts"],components:{},data(){return{}},methods:{onSave:function(){this.opts.onSave(),this.$emit("close")}}},Os={};var yf=M(gf,vf,_f,!1,xf,null,null,null);function xf(e){for(let n in Os)this[n]=Os[n]}var bf=function(){return yf.exports}(),wf=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"flex-y flex-grow p-2"},[t("h4",{staticClass:"my-0 mb-2"},[e._v(e._s(e.is_new?"New Chat":"Settings - "+e.chat.name))]),t("div",{staticClass:"mt-2"},[e._v("Name:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control mb-2",domProps:{value:e.name},on:{input:function(i){i.target.composing||(e.name=i.target.value)}}}),t("div",{staticClass:"mt-2"},[e._v("System Prompt (Tone):")]),t("AutoTextarea",{attrs:{classes:"form-control mb-2 text-sm"},model:{value:e.settings.system,callback:function(i){e.$set(e.settings,"system",i)},expression:"settings.system"}}),t("div",{staticClass:"mt-2"},[e._v("Temperature:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.temperature,expression:"settings.temperature"}],staticClass:"form-control mb-2",domProps:{value:e.settings.temperature},on:{input:function(i){i.target.composing||e.$set(e.settings,"temperature",i.target.value)}}}),t("div",{staticClass:"mt-2"},[e._v("Past Messages Sent: "+e._s(e.settings.chat_history))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.settings.chat_history,expression:"settings.chat_history"}],staticClass:"mb-2",attrs:{type:"range",max:"20"},domProps:{value:e.settings.chat_history},on:{__r:function(i){return e.$set(e.settings,"chat_history",i.target.value)}}}),e.is_new?t("div",{staticClass:"my-2"},[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.temporary,expression:"temporary"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.temporary)?e._i(e.temporary,null)>-1:e.temporary},on:{change:function(i){var s=e.temporary,r=i.target,a=!!r.checked;if(Array.isArray(s)){var o=null,l=e._i(s,o);r.checked?l<0&&(e.temporary=s.concat([o])):l>-1&&(e.temporary=s.slice(0,l).concat(s.slice(l+1)))}else e.temporary=a}}}),e._v(" Throwaway (Unsaved Chat)")])]):e._e(),t("div",{staticClass:"mt-2"},[t("button",{staticClass:"btn btn-pri mr-2",on:{click:e.onSave}},[e._v(e._s(e.is_new?"Start Chatting!":"Save"))]),t("button",{staticClass:"btn btn-plain",on:{click:function(i){return e.$emit("cancel")}}},[e._v("Cancel")])])],1)},kf=[];const Cf={props:["app","is_new","chat"],components:{},data(){let e={};try{e=JSON.parse(this.chat.metadata)}catch{}return{name:this.chat.name,temporary:!1,settings:Ge(e)}},methods:{onShowSettings:function(){this.show_settings=this.sel_chat},onSave:function(){this.$emit("save",{name:this.name,temp:this.temporary,opts:this.settings})}},beforeUnmount:function(){},created:function(){}},Es={};var $f=M(Cf,wf,kf,!1,Sf,null,null,null);function Sf(e){for(let n in Es)this[n]=Es[n]}var Tf=function(){return $f.exports}(),Of=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.chat_width>15,expression:"chat_width > 15"}],key:"settings",staticClass:"flex-y flex-grow flex-stretch"},[e.show_settings||!e.sel_chat?t("div",{staticClass:"flex-y flex-grow shadow",staticStyle:{"align-items":"center",width:"auto",overflow:"hidden"}},[e.show_settings?t("ChatSettings",{staticClass:"flex-y flex-grow p-2",staticStyle:{"max-width":"1000px",width:"99%"},attrs:{app:e.app,chat:e.show_settings},on:{cancel:function(i){e.show_settings=null},save:e.onSaveSettings}}):e.sel_chat?e._e():t("div",{key:"create_chat",staticClass:"flex-y flex-grow p-2",staticStyle:{"max-width":"1000px",width:"99%"}},[e.app.chat_list.length==0||e.create_chat?t("ChatSettings",{staticClass:"flex-y flex-stretch",attrs:{app:e.app,is_new:!0,chat:{name:e.new_chat_title,metadata:""}},on:{cancel:function(i){e.create_chat=!1},save:e.onCreateChat}}):t("div",{staticClass:"flex-grow",staticStyle:{"overflow-y":"auto"}},[t("div",{staticClass:"flex-x mb-3"},[t("h4",{staticClass:"mt-0 mb-0"},[e._v("Select Chat")]),t("div",{staticClass:"flex-grow"}),t("button",{staticClass:"btn btn-pri",on:{click:function(i){e.create_chat=!0}}},[e._v("Create New Chat")])]),e._l(e.app.chat_list,function(i,s){return t("div",{staticClass:"flex-x mb-3 pr-1"},[t("div",{staticClass:"flex-grow no-shadow card clickable p-1 px-2",on:{click:function(r){return e.onSelectChat(i)}}},[i.id===null?t("span",{staticClass:"text-xs pr-2"},[e._v("[TEMP]")]):e._e(),e._v(" "+e._s(i.name)+" ")]),e._e(),t("button",{staticClass:"btn btn-plain",on:{click:function(r){return e.onDelChat(i,s)}}},[t("svg-icon",{attrs:{name:"trash"}})],1)])})],2)],1)],1):e._e(),e.sel_chat?t("div",{directives:[{name:"show",rawName:"v-show",value:!e.show_settings&&e.sel_chat,expression:"!show_settings && sel_chat"}],key:"chat",staticClass:"flex-y flex-grow",staticStyle:{"align-items":"center"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.chat_width>15,expression:"chat_width > 15"}],staticClass:"flex-y flex-grow shadow xbg-light",staticStyle:{"max-width":"1000px",width:"99%"}},[t("div",{staticClass:"mb-1 flex-x"},[t("button",{staticClass:"btn btn-plain btn-sm",on:{click:function(i){e.sel_chat=null}}},[t("svg-icon",{attrs:{name:"chevron-left",size:"18"}})],1),t("h4",{staticClass:"xcard p-1 mt-0 mb-1"},[e._v("Chat with "+e._s(e.sel_chat.name))])]),t("div",{ref:"chat_win",staticClass:"flex-grow",staticStyle:{"overflow-y":"scroll",height:"0"}},e._l(e.messages,function(i,s){return t("div",{key:i.message_id,staticClass:"p-1 px-2 mb-2 round-xl",staticStyle:{"overflow-x":"auto"},style:{backgroundColor:i.role=="user"?"var(--bg-sec)":"var(--bg-main)"}},[e.del_message===s?t("div",[t("div",{staticClass:"flex-x"},[t("span",[e._v("Are you sure you want to delete this message?")]),t("div",{staticClass:"flex-grow"}),t("button",{staticClass:"btn mr-2",on:{click:function(r){e.del_message=null}}},[e._v("Cancel")]),t("button",{staticClass:"btn btn-pri",on:{click:function(r){return e.onDeleteMessage(i,s)}}},[e._v("Delete")])])]):e._e(),i.role=="user"?t("div",{staticStyle:{"text-align":"right","white-space":"pre-wrap"}},[t("button",{staticClass:"btn btn-sm muted ml-2",staticStyle:{float:"right"},on:{click:function(r){e.del_message=s}}},[t("svg-icon",{attrs:{name:"trash",size:"14"}})],1),t("span",{staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(i.content))])]):i.role=="assistant"?t("div",[t("button",{staticClass:"btn btn-sm muted ml-2",staticStyle:{float:"right"},on:{click:function(r){e.del_message=s}}},[t("svg-icon",{attrs:{name:"trash",size:"14"}})],1),i.content?t("div",{staticClass:"mb-1 text-sm",domProps:{innerHTML:e._s(e.app.markdown(i.content))}}):i.info?t("div",{staticClass:"mb-1 text-sm",staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(i.info.response))]):e._e(),t("div",e._l(i.metadata.events,function(r){return r.data_type!="stream"?t("div",{key:r.id,staticClass:"clickable text-sm bg-sec mr-2",staticStyle:{display:"inline-block"},on:{click:function(a){return e.app.open_entry(r)}}},[e._v(" New "+e._s(r.data_type)+" ")]):e._e()}),0),i.info?t("div",{staticClass:"mb-1 text-sm text-muted",staticStyle:{"white-space":"normal"}},[t("div",{staticClass:"xbg-sec"},[i.running?t("div",[t("div",{staticClass:"text-sm"},e._l(i.info.state,function(r,a){return t("span",{key:a,staticClass:"pr-1",staticStyle:{"border-right":"1px dashed #aaa"}},[e._v(" "+e._s(r)+" ")])}),0),t("div",{staticClass:"flex-x text-sm"},[i.info.status?t("div",[e._v("Status: "+e._s(i.info.status))]):e._e(),t("div",{staticClass:"flex-grow"})])]):e._e()])]):e._e(),i.error?t("div",{staticClass:"mt-2"},[e._v(" Error: "+e._s(i.error)+" ")]):e._e()]):t("div",[e._v(" "+e._s(i)+" ")])])}),0),t("div",{staticClass:"xflex-x xp-1"},[t("AutoTextarea",{staticClass:"flex-grow",staticStyle:{"max-height":"200px",overflow:"hidden"},attrs:{classes:"form-control p-1 flex-grow text-sm",buffer:0,styles:{fontFamily:"unset",maxHeight:"100%"}},on:{keypress:function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.onChatEnter.apply(null,arguments)}},model:{value:e.chat_message,callback:function(i){e.chat_message=i},expression:"chat_message"}}),t("div",{staticClass:"flex-x text-xs pt-2"},[t("div",{staticClass:"clickable xpy-1",class:e.multiline?"":"muted",on:{click:function(i){e.multiline=!e.multiline}}},[e._v(" Multiline: "),t("i",[e._v(e._s(e.multiline?"On":"Off"))])]),t("div",{staticClass:"clickable xpy-1 ml-4",class:e.assistant?"":"muted",on:{click:function(i){e.assistant=!e.assistant}}},[e._v(" Assistant: "),t("i",[e._v(e._s(e.assistant?"On":"Off"))])]),t("div",{staticClass:"clickable xpy-1 ml-4",class:e.rag?"":"muted",on:{click:function(i){e.rag=!e.rag}}},[e._v(" Docs: "),t("i",[e._v(e._s(e.rag?"On":"Off"))])]),t("div",{staticClass:"flex-grow"}),t("button",{staticClass:"btn btn-sm btn-plain",on:{click:e.onShowSettings}},[t("svg-icon",{attrs:{name:"settings"}})],1)])],1)])]):e._e()])},Ef=[];const Af={props:["app","chat_width"],components:{ChatSettings:Tf},data(){return{messages:[],chat_message:"",assistant:!1,multiline:!1,rag:!1,sel_chat:null,settings:null,show_settings:null,create_chat:!1,new_chat_title:"",del_message:null}},methods:{createMessage:function(e,n){return n||(n={}),{role:e||"user",content:n.content||"",entries:[],running:n.running||!1,assisntant:!1,error:null,message_id:n.id||null,metadata:n.metadata}},saveMessage:function(e){!this.sel_chat.id||this.app.api.send("/store/create",{data_type:"chat_msg",parent_type:"chat",parent_id:this.sel_chat.id,name:e.role,content:e.content,metadata:JSON.stringify(e.metadata)}).then(n=>{})},onSendMessage:function(){let e={role:"config",content:JSON.stringify({priority:10,rag:this.rag})},n=this.createMessage("user",{content:this.chat_message});this.saveMessage(n);let t=this.settings.chat_history,i=[];t>0&&(i=this.messages.slice(-t).map(a=>({role:a.role,content:a.content})));let s=[e,...i,...this.settings.system?[{role:"system",content:this.settings.system}]:[],{role:n.role,content:n.content}];this.messages.push(n);let r=this.createResponse("assistant");this.chat_message="",this.sendMessage(s,r),this.scrollChatWin()},onResponseEvent(e,n){n.name=="content"?e.content+=n.content:n.name=="new_entry"&&(this.app.add_entry(n.content),e.metadata.events.push(n.content)),this.scrollChatWin()},sendMessage:function(e,n){let t="chat";this.assistant&&(t="assistant");let i=this.app.api.completion(e,t,{temperature:this.settings.temperature||.3}),s=new sn(this.onResponseEvent.bind(this,n));this.$set(n,"info",s),n.running=!0,i.run(r=>{s.add(r)}).catch(r=>{n.error=r,n.running=!1}).finally(()=>{this.saveMessage(n),n.running=!1})},createResponse:function(){let e=this.createMessage("assistant",{content:"",metadata:Ge({},{error:null,events:[]})});return this.messages.push(e),e},scrollChatWin:function(e){this.$nextTick(()=>{let n=this.$refs.chat_win;!n||n.scrollTo(0,this.$refs.chat_win.scrollHeight)})},onChatEnter:function(e){this.multiline&&e.shiftKey==!1||!this.multiline&&e.shiftKey==!0||(e.preventDefault(),this.onSendMessage())},onCreateChat:function(e){if(e.temp){let n={id:null,name:e.name,metadata:JSON.stringify(e.opts),messages:[]};this.app.chat_list.unshift(n),this.onSelectChat(n),this.create_chat=!1;return}this.app.api.send("/store/create",{data_type:"chat",name:e.name,metadata:JSON.stringify(e.opts)}).then(n=>{this.app.chat_list.unshift(n),this.new_chat_title="",this.create_chat=!1,this.onSelectChat(n)})},onSelectChat:function(e){let n={};try{n=JSON.parse(e.metadata)}catch{}if(this.settings=Ge(n),e.id===null){this.sel_chat=e,this.messages=e.messages||[],this.$nextTick(()=>{this.scrollChatWin(!0)});return}this.app.api.send("/store/list",{data_type:"chat_msg",parent_type:"chat",parent_id:e.id,order:["created_at","asc"]}).then(t=>{this.messages=t.map(i=>{let s={};try{s=JSON.parse(i.metadata)}catch{}let r=this.createMessage(i.name,{content:i.content,id:i.id,metadata:s});return r.info={},r}),this.sel_chat=e,this.$nextTick(()=>{this.scrollChatWin(!0)})})},onShowSettings:function(){this.show_settings=this.sel_chat},onSaveSettings:function(e){this.sel_chat.name=e.name,this.sel_chat.metadata=JSON.stringify(e.opts),this.settings=e.opts,this.show_settings=null,this.sel_chat.id&&this.app.api.send("/store/update",{id:this.sel_chat.id,name:e.name,metadata:this.sel_chat.metadata})},delete_chat:function(e,n){this.app.chat_list.splice(n,1),e.id!==null&&e.id>0&&this.app.api.send("/store/delete_match",{parent_type:"chat",parent_id:e.id}).then(t=>{this.app.api.send("/store/delete",{id:e.id})})},onDelChat:function(e,n){this.app.open_modal({cmp:Yt,title:"Delete Chat: "+e.name,message:"Are you sure you want to delete this chat and all messages?",onConfirm:()=>{this.delete_chat(e,n)}})},onDeleteMessage:function(e,n){this.del_message=null,this.messages.splice(n,1),e.message_id&&this.app.api.send("/store/delete",{id:e.message_id})}},beforeUnmount:function(){},created:function(){}},As={};var Pf=M(Af,Of,Ef,!1,If,null,null,null);function If(e){for(let n in As)this[n]=As[n]}var Rf=function(){return Pf.exports}(),Nf=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"flex-grow flex-y bg-sec",class:e.dark_mode?"dark":""},[t("div",{staticClass:"flex-x m-1 mb-2 mx-2 xcard round-sm"},[t("div",{staticClass:"ml-0 card flex-x flex-ctr"},[t("h4",{staticClass:"my-0 mr-3"},[e._v("Nucleo")]),t("button",{staticClass:"btn btn-sm btn-tab mr-2",class:e.view=="stream"?"btn-tab-sel":"",on:{click:function(i){e.view="stream"}}},[e._v("Stream")]),t("button",{staticClass:"btn btn-sm btn-tab mr-2",class:e.view=="todo"?"btn-tab-sel":"",on:{click:function(i){e.view="todo"}}},[e._v("To Do")]),t("button",{staticClass:"btn btn-sm btn-tab mr-2",class:e.view=="docs"?"btn-tab-sel":"",on:{click:function(i){e.view="docs"}}},[e._v("Docs")]),t("button",{staticClass:"btn btn-sm btn-tab mr-2",class:e.view=="chat"?"btn-tab-sel":"",on:{click:function(i){e.view="chat"}}},[e._v("Chat")])]),t("div",{staticClass:"flex-grow"}),t("button",{staticClass:"btn btn ml-2 flex-x flex-ctr",attrs:{title:"Settings"},on:{click:e.onOpenSettings}},[!e.app.connected&&e.app.connect!==null?t("span",{staticClass:"mr-2"},[e._v("Connection Error!")]):e._e(),t("svg-icon",{attrs:{name:"settings"}})],1),t("button",{staticClass:"btn ml-2",class:e.dark_mode?"btn-pri":"btn-plain",on:{click:e.toggleDark}},[t("svg-icon",{attrs:{name:"moon"}})],1)]),t("div",{staticClass:"flex-x flex-grow flex-stretch pt-0"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.view!="chat",expression:"view != 'chat'"}],staticClass:"flex-x flex-stretch",style:{width:e.app.mobile?"100%":100-e.app.chat_width+"%"}},[t("Stream",{directives:[{name:"show",rawName:"v-show",value:e.view=="stream",expression:"view == 'stream'"}],attrs:{app:e.app}}),t("TodoList",{directives:[{name:"show",rawName:"v-show",value:e.view=="todo",expression:"view == 'todo'"}],attrs:{app:e.app}}),t("DocList",{directives:[{name:"show",rawName:"v-show",value:e.view=="docs",expression:"view == 'docs'"}],attrs:{app:e.app}}),!e.app.mobile&&e.view!="chat"?t("div",{staticClass:"flex-y",staticStyle:{padding:"7px",cursor:"ew-resize"},on:{mousedown:e.onResizeStart}},[t("div",{staticClass:"flex-grow",staticStyle:{"border-left":"1px solid var(--accent-color)"}})]):e._e()],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.view=="chat"||!e.app.mobile,expression:"view == 'chat' || !app.mobile"}],staticClass:"flex-y mb-2 mr-1",style:{width:e.view=="chat"?"100%":e.app.chat_width+"%"}},[t("chat",{attrs:{app:e.app,chat_width:e.view=="chat"?100:e.app.chat_width}})],1)]),e._l(e.app.modals,function(i,s){return t("Modal",{directives:[{name:"show",rawName:"v-show",value:s==0,expression:"idx==0"}],key:i.id,attrs:{app:e.app,cfg:i}})})],2)},Df=[];const Mf={props:["app"],components:{TodoList:ms,DocList:cu,Stream:cf,Modal:mf,Chat:Rf},data(){return{todo_list:this.app.todo_list,new_todo:"",chat_msg:"",chat_handler:null,logs:this.app.ai_log,views:{todo:ms,prompts:bu},view:"stream",AIChatJob:ye,resize:null,dark_mode:this.app.load_local("dark",!1)=="true"}},methods:{toggleDark:function(){this.dark_mode=this.app.save_local("dark",!this.dark_mode)},setAITone:function(){this.app.open_modal({title:"AI Tone",cmp:be,multiline:!1,content:this.app.ai_tone,info:"Give your assistant some personality. Write a short sentence to describe how they should reply (even add a name).",onSave:e=>{this.app.save_local("ai_tone",e),this.app.ai_tone=e}})},onResizeMove:function(e){let n=(1-e.pageX/window.innerWidth)*100;n<0?n=0:n>80&&(n=80),this.app.chat_width=n},onResizeStart:function(e){e.preventDefault(),this.resize={onmove:this.onResizeMove.bind(this),pos:e.pageX},this.resize.onend=n=>{window.removeEventListener("mousemove",this.resize.onmove),window.removeEventListener("mouseup",this.resize.onend),this.app.save_local("chat_width",this.app.chat_width)},window.addEventListener("mousemove",this.resize.onmove),window.addEventListener("mouseup",this.resize.onend)},onOpenSettings:function(){this.app.open_modal({title:"Settings",cmp:bf,onSave:()=>{this.app.save_local("api_base",this.app.api.api_base),this.app.save_local("api_key",this.app.api.api_key),this.app.check_con().then(e=>{this.app.load_data()})}})}},created:function(){this.app.check_con().catch(e=>{})}},Ps={};var Lf=M(Mf,Nf,Df,!1,zf,null,null,null);function zf(e){for(let n in Ps)this[n]=Ps[n]}var jf=function(){return Lf.exports}(),Ff=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("img",{class:e.invert?"ico-invert":"ico",style:{height:(e.size||14)+"px"},attrs:{src:"/icons/"+e.name+".svg"}})},Hf=[];const Uf={props:["app","name","size","invert"],data(){return{}}},Is={};var Bf=M(Uf,Ff,Hf,!1,qf,null,null,null);function qf(e){for(let n in Is)this[n]=Is[n]}var Wf=function(){return Bf.exports}(),Jf=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"grow-wrap",staticStyle:{display:"grid"}},[t("div",{class:e.classes,staticStyle:{height:"auto !important","white-space":"pre-wrap",visibility:"hidden","grid-area":"1 / 1 / 2 / 2"},style:Object.assign({paddingBottom:e.buffer_px+"px"},e.styles)},[e._v(e._s(e.value)),(e.value||"").endsWith(`
`)?t("br"):t("span")]),t("textarea",e._g({ref:"textarea",class:e.classes,staticStyle:{overflow:"hidden","grid-area":"1 / 1 / 2 / 2"},style:e.styles,attrs:{rows:e.rows,placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.input}},e.listeners))])},Zf=[];const Gf={props:["value","classes","styles","placeholder","buffer"],inheritAttrs:!1,data:function(){return{buffer_px:this.buffer||15}},computed:{listeners(){const{input:e,...n}=this.$listeners;return n},rows(){return this.$attrs.rows||1},attrs(){const{rows:e,...n}=this.$attrs;return n}},methods:{input:function(e){this.$emit("input",event.target.value)},focus:function(){this.$refs.textarea.focus()},scrollIntoView:function(e){this.$refs.textarea.scrollIntoView(e)}},created:function(){},mounted:function(){}},Rs={};var Kf=M(Gf,Jf,Zf,!1,Xf,null,null,null);function Xf(e){for(let n in Rs)this[n]=Rs[n]}var Yf=function(){return Kf.exports}();function ci(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let He=ci();function Mr(e){He=e}const Lr=/[&<>"']/,Qf=new RegExp(Lr.source,"g"),zr=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Vf=new RegExp(zr.source,"g"),ep={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ns=e=>ep[e];function Z(e,n){if(n){if(Lr.test(e))return e.replace(Qf,Ns)}else if(zr.test(e))return e.replace(Vf,Ns);return e}const tp=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function np(e){return e.replace(tp,(n,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const ip=/(^|[^\[])\^/g;function P(e,n){let t=typeof e=="string"?e:e.source;n=n||"";const i={replace:(s,r)=>{let a=typeof r=="string"?r:r.source;return a=a.replace(ip,"$1"),t=t.replace(s,a),i},getRegex:()=>new RegExp(t,n)};return i}function Ds(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const ot={exec:()=>null};function Ms(e,n){const t=e.replace(/\|/g,(r,a,o)=>{let l=!1,c=a;for(;--c>=0&&o[c]==="\\";)l=!l;return l?"|":" |"}),i=t.split(/ \|/);let s=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),n)if(i.length>n)i.splice(n);else for(;i.length<n;)i.push("");for(;s<i.length;s++)i[s]=i[s].trim().replace(/\\\|/g,"|");return i}function Rt(e,n,t){const i=e.length;if(i===0)return"";let s=0;for(;s<i;){const r=e.charAt(i-s-1);if(r===n&&!t)s++;else if(r!==n&&t)s++;else break}return e.slice(0,i-s)}function sp(e,n){if(e.indexOf(n[1])===-1)return-1;let t=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===n[0])t++;else if(e[i]===n[1]&&(t--,t<0))return i;return-1}function Ls(e,n,t,i){const s=n.href,r=n.title?Z(n.title):null,a=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){i.state.inLink=!0;const o={type:"link",raw:t,href:s,title:r,text:a,tokens:i.inlineTokens(a)};return i.state.inLink=!1,o}return{type:"image",raw:t,href:s,title:r,text:Z(a)}}function rp(e,n){const t=e.match(/^(\s+)(?:```)/);if(t===null)return n;const i=t[1];return n.split(`
`).map(s=>{const r=s.match(/^\s+/);if(r===null)return s;const[a]=r;return a.length>=i.length?s.slice(i.length):s}).join(`
`)}class Qt{constructor(n){A(this,"options");A(this,"rules");A(this,"lexer");this.options=n||He}space(n){const t=this.rules.block.newline.exec(n);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(n){const t=this.rules.block.code.exec(n);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Rt(i,`
`)}}}fences(n){const t=this.rules.block.fences.exec(n);if(t){const i=t[0],s=rp(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:s}}}heading(n){const t=this.rules.block.heading.exec(n);if(t){let i=t[2].trim();if(/#$/.test(i)){const s=Rt(i,"#");(this.options.pedantic||!s||/ $/.test(s))&&(i=s.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(n){const t=this.rules.block.hr.exec(n);if(t)return{type:"hr",raw:t[0]}}blockquote(n){const t=this.rules.block.blockquote.exec(n);if(t){const i=Rt(t[0].replace(/^ *>[ \t]?/gm,""),`
`),s=this.lexer.state.top;this.lexer.state.top=!0;const r=this.lexer.blockTokens(i);return this.lexer.state.top=s,{type:"blockquote",raw:t[0],tokens:r,text:i}}}list(n){let t=this.rules.block.list.exec(n);if(t){let i=t[1].trim();const s=i.length>1,r={type:"list",raw:"",ordered:s,start:s?+i.slice(0,-1):"",loose:!1,items:[]};i=s?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=s?i:"[*+-]");const a=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let o="",l="",c=!1;for(;n;){let f=!1;if(!(t=a.exec(n))||this.rules.block.hr.test(n))break;o=t[0],n=n.substring(o.length);let v=t[2].split(`
`,1)[0].replace(/^\t+/,W=>" ".repeat(3*W.length)),d=n.split(`
`,1)[0],_=0;this.options.pedantic?(_=2,l=v.trimStart()):(_=t[2].search(/[^ ]/),_=_>4?1:_,l=v.slice(_),_+=t[1].length);let S=!1;if(!v&&/^ *$/.test(d)&&(o+=d+`
`,n=n.substring(d.length+1),f=!0),!f){const W=new RegExp(`^ {0,${Math.min(3,_-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),B=new RegExp(`^ {0,${Math.min(3,_-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Q=new RegExp(`^ {0,${Math.min(3,_-1)}}(?:\`\`\`|~~~)`),ie=new RegExp(`^ {0,${Math.min(3,_-1)}}#`);for(;n;){const ue=n.split(`
`,1)[0];if(d=ue,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Q.test(d)||ie.test(d)||W.test(d)||B.test(n))break;if(d.search(/[^ ]/)>=_||!d.trim())l+=`
`+d.slice(_);else{if(S||v.search(/[^ ]/)>=4||Q.test(v)||ie.test(v)||B.test(v))break;l+=`
`+d}!S&&!d.trim()&&(S=!0),o+=ue+`
`,n=n.substring(ue.length+1),v=d.slice(_)}}r.loose||(c?r.loose=!0:/\n *\n *$/.test(o)&&(c=!0));let I=null,j;this.options.gfm&&(I=/^\[[ xX]\] /.exec(l),I&&(j=I[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),r.items.push({type:"list_item",raw:o,task:!!I,checked:j,loose:!1,text:l,tokens:[]}),r.raw+=o}r.items[r.items.length-1].raw=o.trimEnd(),r.items[r.items.length-1].text=l.trimEnd(),r.raw=r.raw.trimEnd();for(let f=0;f<r.items.length;f++)if(this.lexer.state.top=!1,r.items[f].tokens=this.lexer.blockTokens(r.items[f].text,[]),!r.loose){const v=r.items[f].tokens.filter(_=>_.type==="space"),d=v.length>0&&v.some(_=>/\n.*\n/.test(_.raw));r.loose=d}if(r.loose)for(let f=0;f<r.items.length;f++)r.items[f].loose=!0;return r}}html(n){const t=this.rules.block.html.exec(n);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(n){const t=this.rules.block.def.exec(n);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),s=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:s,title:r}}}table(n){const t=this.rules.block.table.exec(n);if(!t||!/[:|]/.test(t[2]))return;const i=Ms(t[1]),s=t[2].replace(/^\||\| *$/g,"").split("|"),r=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[],a={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===s.length){for(const o of s)/^ *-+: *$/.test(o)?a.align.push("right"):/^ *:-+: *$/.test(o)?a.align.push("center"):/^ *:-+ *$/.test(o)?a.align.push("left"):a.align.push(null);for(const o of i)a.header.push({text:o,tokens:this.lexer.inline(o)});for(const o of r)a.rows.push(Ms(o,a.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return a}}lheading(n){const t=this.rules.block.lheading.exec(n);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(n){const t=this.rules.block.paragraph.exec(n);if(t){const i=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(n){const t=this.rules.block.text.exec(n);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(n){const t=this.rules.inline.escape.exec(n);if(t)return{type:"escape",raw:t[0],text:Z(t[1])}}tag(n){const t=this.rules.inline.tag.exec(n);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(n){const t=this.rules.inline.link.exec(n);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const a=Rt(i.slice(0,-1),"\\");if((i.length-a.length)%2===0)return}else{const a=sp(t[2],"()");if(a>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+a;t[2]=t[2].substring(0,a),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let s=t[2],r="";if(this.options.pedantic){const a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);a&&(s=a[1],r=a[3])}else r=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(i)?s=s.slice(1):s=s.slice(1,-1)),Ls(t,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(n,t){let i;if((i=this.rules.inline.reflink.exec(n))||(i=this.rules.inline.nolink.exec(n))){const s=(i[2]||i[1]).replace(/\s+/g," "),r=t[s.toLowerCase()];if(!r){const a=i[0].charAt(0);return{type:"text",raw:a,text:a}}return Ls(i,r,i[0],this.lexer)}}emStrong(n,t,i=""){let s=this.rules.inline.emStrongLDelim.exec(n);if(!s||s[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(s[1]||s[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const a=[...s[0]].length-1;let o,l,c=a,f=0;const v=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(v.lastIndex=0,t=t.slice(-1*n.length+a);(s=v.exec(t))!=null;){if(o=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!o)continue;if(l=[...o].length,s[3]||s[4]){c+=l;continue}else if((s[5]||s[6])&&a%3&&!((a+l)%3)){f+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+f);const d=[...s[0]][0].length,_=n.slice(0,a+s.index+d+l);if(Math.min(a,l)%2){const I=_.slice(1,-1);return{type:"em",raw:_,text:I,tokens:this.lexer.inlineTokens(I)}}const S=_.slice(2,-2);return{type:"strong",raw:_,text:S,tokens:this.lexer.inlineTokens(S)}}}}codespan(n){const t=this.rules.inline.code.exec(n);if(t){let i=t[2].replace(/\n/g," ");const s=/[^ ]/.test(i),r=/^ /.test(i)&&/ $/.test(i);return s&&r&&(i=i.substring(1,i.length-1)),i=Z(i,!0),{type:"codespan",raw:t[0],text:i}}}br(n){const t=this.rules.inline.br.exec(n);if(t)return{type:"br",raw:t[0]}}del(n){const t=this.rules.inline.del.exec(n);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(n){const t=this.rules.inline.autolink.exec(n);if(t){let i,s;return t[2]==="@"?(i=Z(t[1]),s="mailto:"+i):(i=Z(t[1]),s=i),{type:"link",raw:t[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(n){var i,s;let t;if(t=this.rules.inline.url.exec(n)){let r,a;if(t[2]==="@")r=Z(t[0]),a="mailto:"+r;else{let o;do o=t[0],t[0]=(s=(i=this.rules.inline._backpedal.exec(t[0]))==null?void 0:i[0])!=null?s:"";while(o!==t[0]);r=Z(t[0]),t[1]==="www."?a="http://"+t[0]:a=t[0]}return{type:"link",raw:t[0],text:r,href:a,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(n){const t=this.rules.inline.text.exec(n);if(t){let i;return this.lexer.state.inRawBlock?i=t[0]:i=Z(t[0]),{type:"text",raw:t[0],text:i}}}}const ap=/^(?: *(?:\n|$))+/,op=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,lp=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,bt=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,cp=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,jr=/(?:[*+-]|\d{1,9}[.)])/,Fr=P(/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,jr).getRegex(),ui=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,up=/^[^\n]+/,fi=/(?!\s*\])(?:\\.|[^\[\]\\])+/,fp=P(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",fi).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),pp=P(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,jr).getRegex(),rn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",pi=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,hp=P("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",pi).replace("tag",rn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Hr=P(ui).replace("hr",bt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rn).getRegex(),dp=P(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Hr).getRegex(),hi={blockquote:dp,code:op,def:fp,fences:lp,heading:cp,hr:bt,html:hp,lheading:Fr,list:pp,newline:ap,paragraph:Hr,table:ot,text:up},zs=P("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",bt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rn).getRegex(),mp={...hi,table:zs,paragraph:P(ui).replace("hr",bt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",zs).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",rn).getRegex()},vp={...hi,html:P(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",pi).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ot,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:P(ui).replace("hr",bt).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Fr).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ur=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,_p=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Br=/^( {2,}|\\)\n(?!\s*$)/,gp=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,wt="\\p{P}$+<=>`^|~",yp=P(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,wt).getRegex(),xp=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,bp=P(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,wt).getRegex(),wp=P("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,wt).getRegex(),kp=P("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,wt).getRegex(),Cp=P(/\\([punct])/,"gu").replace(/punct/g,wt).getRegex(),$p=P(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Sp=P(pi).replace("(?:-->|$)","-->").getRegex(),Tp=P("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Sp).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Vt=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Op=P(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Vt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),qr=P(/^!?\[(label)\]\[(ref)\]/).replace("label",Vt).replace("ref",fi).getRegex(),Wr=P(/^!?\[(ref)\](?:\[\])?/).replace("ref",fi).getRegex(),Ep=P("reflink|nolink(?!\\()","g").replace("reflink",qr).replace("nolink",Wr).getRegex(),di={_backpedal:ot,anyPunctuation:Cp,autolink:$p,blockSkip:xp,br:Br,code:_p,del:ot,emStrongLDelim:bp,emStrongRDelimAst:wp,emStrongRDelimUnd:kp,escape:Ur,link:Op,nolink:Wr,punctuation:yp,reflink:qr,reflinkSearch:Ep,tag:Tp,text:gp,url:ot},Ap={...di,link:P(/^!?\[(label)\]\((.*?)\)/).replace("label",Vt).getRegex(),reflink:P(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Vt).getRegex()},Ln={...di,escape:P(Ur).replace("])","~|])").getRegex(),url:P(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Pp={...Ln,br:P(Br).replace("{2,}","*").getRegex(),text:P(Ln.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Nt={normal:hi,gfm:mp,pedantic:vp},it={normal:di,gfm:Ln,breaks:Pp,pedantic:Ap};class oe{constructor(n){A(this,"tokens");A(this,"options");A(this,"state");A(this,"tokenizer");A(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=n||He,this.options.tokenizer=this.options.tokenizer||new Qt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Nt.normal,inline:it.normal};this.options.pedantic?(t.block=Nt.pedantic,t.inline=it.pedantic):this.options.gfm&&(t.block=Nt.gfm,this.options.breaks?t.inline=it.breaks:t.inline=it.gfm),this.tokenizer.rules=t}static get rules(){return{block:Nt,inline:it}}static lex(n,t){return new oe(t).lex(n)}static lexInline(n,t){return new oe(t).inlineTokens(n)}lex(n){n=n.replace(/\r\n|\r/g,`
`),this.blockTokens(n,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(n,t=[]){this.options.pedantic?n=n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n=n.replace(/^( *)(\t+)/gm,(o,l,c)=>l+"    ".repeat(c.length));let i,s,r,a;for(;n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(i=o.call({lexer:this},n,t))?(n=n.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.space(n)){n=n.substring(i.raw.length),i.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(n)){n=n.substring(i.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(i);continue}if(i=this.tokenizer.fences(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(n)){n=n.substring(i.raw.length),s=t[t.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(n)){n=n.substring(i.raw.length),t.push(i);continue}if(r=n,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const l=n.slice(1);let c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},l),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(r=n.substring(0,o+1))}if(this.state.top&&(i=this.tokenizer.paragraph(r))){s=t[t.length-1],a&&s.type==="paragraph"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(i),a=r.length!==n.length,n=n.substring(i.raw.length);continue}if(i=this.tokenizer.text(n)){n=n.substring(i.raw.length),s=t[t.length-1],s&&s.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(i);continue}if(n){const o="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(n,t=[]){return this.inlineQueue.push({src:n,tokens:t}),t}inlineTokens(n,t=[]){let i,s,r,a=n,o,l,c;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(a))!=null;)f.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(a=a.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(a))!=null;)a=a.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+a.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(a))!=null;)a=a.slice(0,o.index)+"++"+a.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;n;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>(i=f.call({lexer:this},n,t))?(n=n.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(n)){n=n.substring(i.raw.length),s=t[t.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(i.raw.length),s=t[t.length-1],s&&i.type==="text"&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(n,a,c)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(n)){n=n.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(n)){n=n.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(n))){n=n.substring(i.raw.length),t.push(i);continue}if(r=n,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const v=n.slice(1);let d;this.options.extensions.startInline.forEach(_=>{d=_.call({lexer:this},v),typeof d=="number"&&d>=0&&(f=Math.min(f,d))}),f<1/0&&f>=0&&(r=n.substring(0,f+1))}if(i=this.tokenizer.inlineText(r)){n=n.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(c=i.raw.slice(-1)),l=!0,s=t[t.length-1],s&&s.type==="text"?(s.raw+=i.raw,s.text+=i.text):t.push(i);continue}if(n){const f="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return t}}class en{constructor(n){A(this,"options");this.options=n||He}code(n,t,i){var r;const s=(r=(t||"").match(/^\S*/))==null?void 0:r[0];return n=n.replace(/\n$/,"")+`
`,s?'<pre><code class="language-'+Z(s)+'">'+(i?n:Z(n,!0))+`</code></pre>
`:"<pre><code>"+(i?n:Z(n,!0))+`</code></pre>
`}blockquote(n){return`<blockquote>
${n}</blockquote>
`}html(n,t){return n}heading(n,t,i){return`<h${t}>${n}</h${t}>
`}hr(){return`<hr>
`}list(n,t,i){const s=t?"ol":"ul",r=t&&i!==1?' start="'+i+'"':"";return"<"+s+r+`>
`+n+"</"+s+`>
`}listitem(n,t,i){return`<li>${n}</li>
`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(n){return`<p>${n}</p>
`}table(n,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+t+`</table>
`}tablerow(n){return`<tr>
${n}</tr>
`}tablecell(n,t){const i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+n+`</${i}>
`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return"<br>"}del(n){return`<del>${n}</del>`}link(n,t,i){const s=Ds(n);if(s===null)return i;n=s;let r='<a href="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=">"+i+"</a>",r}image(n,t,i){const s=Ds(n);if(s===null)return i;n=s;let r=`<img src="${n}" alt="${i}"`;return t&&(r+=` title="${t}"`),r+=">",r}text(n){return n}}class mi{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,t,i){return""+i}image(n,t,i){return""+i}br(){return""}}class le{constructor(n){A(this,"options");A(this,"renderer");A(this,"textRenderer");this.options=n||He,this.options.renderer=this.options.renderer||new en,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new mi}static parse(n,t){return new le(t).parse(n)}static parseInline(n,t){return new le(t).parseInline(n)}parse(n,t=!0){let i="";for(let s=0;s<n.length;s++){const r=n[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]){const a=r,o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){i+=o||"";continue}}switch(r.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{const a=r;i+=this.renderer.heading(this.parseInline(a.tokens),a.depth,np(this.parseInline(a.tokens,this.textRenderer)));continue}case"code":{const a=r;i+=this.renderer.code(a.text,a.lang,!!a.escaped);continue}case"table":{const a=r;let o="",l="";for(let f=0;f<a.header.length;f++)l+=this.renderer.tablecell(this.parseInline(a.header[f].tokens),{header:!0,align:a.align[f]});o+=this.renderer.tablerow(l);let c="";for(let f=0;f<a.rows.length;f++){const v=a.rows[f];l="";for(let d=0;d<v.length;d++)l+=this.renderer.tablecell(this.parseInline(v[d].tokens),{header:!1,align:a.align[d]});c+=this.renderer.tablerow(l)}i+=this.renderer.table(o,c);continue}case"blockquote":{const a=r,o=this.parse(a.tokens);i+=this.renderer.blockquote(o);continue}case"list":{const a=r,o=a.ordered,l=a.start,c=a.loose;let f="";for(let v=0;v<a.items.length;v++){const d=a.items[v],_=d.checked,S=d.task;let I="";if(d.task){const j=this.renderer.checkbox(!!_);c?d.tokens.length>0&&d.tokens[0].type==="paragraph"?(d.tokens[0].text=j+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&d.tokens[0].tokens[0].type==="text"&&(d.tokens[0].tokens[0].text=j+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",text:j+" "}):I+=j+" "}I+=this.parse(d.tokens,c),f+=this.renderer.listitem(I,S,!!_)}i+=this.renderer.list(f,o,l);continue}case"html":{const a=r;i+=this.renderer.html(a.text,a.block);continue}case"paragraph":{const a=r;i+=this.renderer.paragraph(this.parseInline(a.tokens));continue}case"text":{let a=r,o=a.tokens?this.parseInline(a.tokens):a.text;for(;s+1<n.length&&n[s+1].type==="text";)a=n[++s],o+=`
`+(a.tokens?this.parseInline(a.tokens):a.text);i+=t?this.renderer.paragraph(o):o;continue}default:{const a='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}parseInline(n,t){t=t||this.renderer;let i="";for(let s=0;s<n.length;s++){const r=n[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type]){const a=this.options.extensions.renderers[r.type].call({parser:this},r);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type)){i+=a||"";continue}}switch(r.type){case"escape":{const a=r;i+=t.text(a.text);break}case"html":{const a=r;i+=t.html(a.text);break}case"link":{const a=r;i+=t.link(a.href,a.title,this.parseInline(a.tokens,t));break}case"image":{const a=r;i+=t.image(a.href,a.title,a.text);break}case"strong":{const a=r;i+=t.strong(this.parseInline(a.tokens,t));break}case"em":{const a=r;i+=t.em(this.parseInline(a.tokens,t));break}case"codespan":{const a=r;i+=t.codespan(a.text);break}case"br":{i+=t.br();break}case"del":{const a=r;i+=t.del(this.parseInline(a.tokens,t));break}case"text":{const a=r;i+=t.text(a.text);break}default:{const a='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}}class lt{constructor(n){A(this,"options");this.options=n||He}preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}}A(lt,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var vt,zn,tn,Jr;class Ip{constructor(...n){on(this,vt);on(this,tn);A(this,"defaults",ci());A(this,"options",this.setOptions);A(this,"parse",Ct(this,vt,zn).call(this,oe.lex,le.parse));A(this,"parseInline",Ct(this,vt,zn).call(this,oe.lexInline,le.parseInline));A(this,"Parser",le);A(this,"Renderer",en);A(this,"TextRenderer",mi);A(this,"Lexer",oe);A(this,"Tokenizer",Qt);A(this,"Hooks",lt);this.use(...n)}walkTokens(n,t){var s,r;let i=[];for(const a of n)switch(i=i.concat(t.call(this,a)),a.type){case"table":{const o=a;for(const l of o.header)i=i.concat(this.walkTokens(l.tokens,t));for(const l of o.rows)for(const c of l)i=i.concat(this.walkTokens(c.tokens,t));break}case"list":{const o=a;i=i.concat(this.walkTokens(o.items,t));break}default:{const o=a;(r=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&r[o.type]?this.defaults.extensions.childTokens[o.type].forEach(l=>{const c=o[l].flat(1/0);i=i.concat(this.walkTokens(c,t))}):o.tokens&&(i=i.concat(this.walkTokens(o.tokens,t)))}}return i}use(...n){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(i=>{const s={...i};if(s.async=this.defaults.async||s.async||!1,i.extensions&&(i.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){const a=t.renderers[r.name];a?t.renderers[r.name]=function(...o){let l=r.renderer.apply(this,o);return l===!1&&(l=a.apply(this,o)),l}:t.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=t[r.level];a?a.unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),s.extensions=t),i.renderer){const r=this.defaults.renderer||new en(this.defaults);for(const a in i.renderer){if(!(a in r))throw new Error(`renderer '${a}' does not exist`);if(a==="options")continue;const o=a,l=i.renderer[o],c=r[o];r[o]=(...f)=>{let v=l.apply(r,f);return v===!1&&(v=c.apply(r,f)),v||""}}s.renderer=r}if(i.tokenizer){const r=this.defaults.tokenizer||new Qt(this.defaults);for(const a in i.tokenizer){if(!(a in r))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const o=a,l=i.tokenizer[o],c=r[o];r[o]=(...f)=>{let v=l.apply(r,f);return v===!1&&(v=c.apply(r,f)),v}}s.tokenizer=r}if(i.hooks){const r=this.defaults.hooks||new lt;for(const a in i.hooks){if(!(a in r))throw new Error(`hook '${a}' does not exist`);if(a==="options")continue;const o=a,l=i.hooks[o],c=r[o];lt.passThroughHooks.has(a)?r[o]=f=>{if(this.defaults.async)return Promise.resolve(l.call(r,f)).then(d=>c.call(r,d));const v=l.call(r,f);return c.call(r,v)}:r[o]=(...f)=>{let v=l.apply(r,f);return v===!1&&(v=c.apply(r,f)),v}}s.hooks=r}if(i.walkTokens){const r=this.defaults.walkTokens,a=i.walkTokens;s.walkTokens=function(o){let l=[];return l.push(a.call(this,o)),r&&(l=l.concat(r.call(this,o))),l}}this.defaults={...this.defaults,...s}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,t){return oe.lex(n,t!=null?t:this.defaults)}parser(n,t){return le.parse(n,t!=null?t:this.defaults)}}vt=new WeakSet,zn=function(n,t){return(i,s)=>{const r={...s},a={...this.defaults,...r};this.defaults.async===!0&&r.async===!1&&(a.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),a.async=!0);const o=Ct(this,tn,Jr).call(this,!!a.silent,!!a.async);if(typeof i=="undefined"||i===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(a.hooks&&(a.hooks.options=a),a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(i):i).then(l=>n(l,a)).then(l=>a.hooks?a.hooks.processAllTokens(l):l).then(l=>a.walkTokens?Promise.all(this.walkTokens(l,a.walkTokens)).then(()=>l):l).then(l=>t(l,a)).then(l=>a.hooks?a.hooks.postprocess(l):l).catch(o);try{a.hooks&&(i=a.hooks.preprocess(i));let l=n(i,a);a.hooks&&(l=a.hooks.processAllTokens(l)),a.walkTokens&&this.walkTokens(l,a.walkTokens);let c=t(l,a);return a.hooks&&(c=a.hooks.postprocess(c)),c}catch(l){return o(l)}}},tn=new WeakSet,Jr=function(n,t){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,n){const s="<p>An error occurred:</p><pre>"+Z(i.message+"",!0)+"</pre>";return t?Promise.resolve(s):s}if(t)return Promise.reject(i);throw i}};const je=new Ip;function T(e,n){return je.parse(e,n)}T.options=T.setOptions=function(e){return je.setOptions(e),T.defaults=je.defaults,Mr(T.defaults),T};T.getDefaults=ci;T.defaults=He;T.use=function(...e){return je.use(...e),T.defaults=je.defaults,Mr(T.defaults),T};T.walkTokens=function(e,n){return je.walkTokens(e,n)};T.parseInline=je.parseInline;T.Parser=le;T.parser=le.parse;T.Renderer=en;T.TextRenderer=mi;T.Lexer=oe;T.lexer=oe.lex;T.Tokenizer=Qt;T.Hooks=lt;T.parse=T;T.options;T.setOptions;T.use;T.walkTokens;T.parseInline;le.parse;oe.lex;function ct(e,n){console.log("Initializing App!"),e.connected=null,e.check_con=()=>e.api.send("/state/check_auth",{}).then(r=>{e.connected=!0}).catch(r=>{e.connected=!1}),e.debug=!1,e.store_prefix="ast_",e.no_login=!0,e.api_base=e.load_local("api_base","/api/"),e.api_key=e.load_local("api_key","no_key"),e.api_model=e.load_local("api_model","chat"),e.ai_tone=e.load_local("ai_tone","Reply with a casual tone."),e.chat_width=e.load_local("chat_width","33"),e.api=new Cu(e.api_base,e.api_key),e.stream=ku,e.chat_list=[],e.feed=[],e.modals=[],e.modal_id=0,e.open_modal=(r,a)=>{e.modal_id+=1,e.modals.unshift({modal_id:1,opts:r,evts:a})},e.close_modal=()=>{e.modals.splice(0,1)},e.todo_list=[],e.doc_list=[],e.stream_list=[],e.open_entry_id=r=>{console.log(r),e.api.send("/store/list",{id:r}).then(a=>{e.open_entry(a[0])})},e.open_entry=r=>{r.data_type=="doc"?e.open_modal({cmp:Dr,content:r.content,title:r.name,style:{width:"95%",height:"90vh"},multiline:!0}):r.data_type=="todo"&&e.open_modal({cmp:be,content:r.name})},e.add_entry=r=>{r.data_type=="todo"&&e.todo_list.unshift(r),r.data_type=="doc"&&e.doc_list.unshift(r),r.data_type=="stream"&&e.stream_list.unshift(r)},e.load_data=()=>{e.api.store_list({data_type:"todo"}).then(r=>{e.todo_list=r}),e.api.store_list({data_type:"doc",_exclude:["content"]}).then(r=>{e.doc_list=r}),e.api.store_list({data_type:"stream"}).then(r=>{e.stream_list=r}),e.api.store_list({data_type:"chat"}).then(r=>{e.chat_list=r})},e.load_data(),e.router.add("/",{default:!0,cmp:null}),e.user={logged_in:!0,alias:"Admin"},T.use({gfm:!0,breaks:!0});let t=new T.Renderer;window.md_rnd=t;let i=t.link,s=t.image;t.image=(r,a,o)=>s.call(t,r,a,o).replace(/^<img /,'<img style="max-height: 400px; max-width: 400px;"'),t.link=(r,a,o)=>i.call(t,r,a,o).replace(/^<a /,'<a target="_blank" rel="nofollow" '),e.markdown=r=>T.parse(r||"",{renderer:t}),ct.vue.component("Home",jf),ct.vue.component("svg-icon",Wf),ct.vue.component("AutoTextarea",Yf)}var Rp=Object.freeze(Object.defineProperty({__proto__:null,init:ct},Symbol.toStringTag,{value:"Module"}));ct.vue=L;new L({render:e=>e(Ec,{props:{AppInit:Rp}})}).$mount("#app");
